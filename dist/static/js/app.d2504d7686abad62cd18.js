webpackJsonp([1],{"/X1/":function(t,e){},"/gH8":function(t,e){},"0I1n":function(t,e){},"1oyl":function(t,e){},"2RhE":function(t,e){},"4Czs":function(t,e){},"4jyR":function(t,e){},"5AO2":function(t,e){},"6V7z":function(t,e){},"8G8L":function(t,e){},"96qr":function(t,e){},"9d/P":function(t,e){},CMaW:function(t,e){},CzrI:function(t,e){},D8SS:function(t,e){},DoOW:function(t,e){},EpkJ:function(t,e){},Hs1a:function(t,e){},HuFV:function(t,e){},"I+TN":function(t,e){},IC3P:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"m-tabbar"},[this._t("default")],2)},staticRenderFns:[]};var n=a("VU/8")({},s,!1,function(t){a("2RhE")},"data-v-7243e8f8",null).exports,o={props:{id:{type:String}},methods:{goToRouter:function(){this.$router.push(this.id)}},computed:{isActive:function(){return this.$route.fullPath=="/"+this.id||("/menu"==this.$route.fullPath||"/calendar"==this.$route.fullPath)&&"statistics"==this.id}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"m-tabbar-item",class:{isActive:this.isActive},on:{click:this.goToRouter}},[e("span",{staticClass:"m-tabbar-item-icon"},[this._t("icon-normal")],2),this._v(" "),e("span",{staticClass:"m-tabbar-item-icon"},[this._t("normal")],2),this._v(" "),e("span",{staticClass:"m-tabbar-item-text"},[this._t("default")],2)])},staticRenderFns:[]};var r=a("VU/8")(o,c,!1,function(t){a("NzZ4")},"data-v-92b1a4a0",null).exports,l=(a("UZ5h"),a("/Luh"),"http://jizhang-api-dev.it266.com/api"),d={GetImg:"http://jizhang-api-dev.it266.com/api/captcha",Login:"http://jizhang-api-dev.it266.com/api/user/token/mobile",Verify:"http://jizhang-api-dev.it266.com/api/sms/verify",Reg:"http://jizhang-api-dev.it266.com/api/user/register",User:"http://jizhang-api-dev.it266.com/api/user/profile?token=",UploadImg:"http://jizhang-api-dev.it266.com/api/upload/image?token=",UserInfoEdit:"http://jizhang-api-dev.it266.com/api/user/profile/update?token=",Member:"http://jizhang-api-dev.it266.com/api/member?token=",Book:"http://jizhang-api-dev.it266.com/api/book?token=",Record:"http://jizhang-api-dev.it266.com/api/record/account?token=",BookGet:"http://jizhang-api-dev.it266.com/api/book/get-default?token=",UserOut:"http://jizhang-api-dev.it266.com/api/user/logout?token=",UpdatePass:"http://jizhang-api-dev.it266.com/api/user/password?token=",UpdateMobile:"http://jizhang-api-dev.it266.com/api/user/mobile?token=",Account:"http://jizhang-api-dev.it266.com/api/account?token=",DelAcc:{Url1:l+"/account/delete?id=",Url2:"&token="},AccAdd:"http://jizhang-api-dev.it266.com/api/account/create?token=",AccDetail:{Url1:l+"/account/detail?id=",Url2:"&token="},AccEdit:{Url1:l+"/account/update?id=",Url2:"&token="},BookDel:"http://jizhang-api-dev.it266.com/api/book/delete?token=",BookSet:"http://jizhang-api-dev.it266.com/api/book/set-default?token=",BookAdd:"http://jizhang-api-dev.it266.com/api/book/create?token=",BookEdit:"http://jizhang-api-dev.it266.com/api/book/update?token=",BookDate:"http://jizhang-api-dev.it266.com/api/book/detail?token=",Cate:"http://jizhang-api-dev.it266.com/api/category?token=",CateDel:{Url1:l+"/category/delete?id=",Url2:"&token="},CateAdd:"http://jizhang-api-dev.it266.com/api/category/create?token=",CateEdit:{Url1:l+"/category/update?id=",Url2:"&token="},MemberList:"http://jizhang-api-dev.it266.com/api/member?token=",MemberDel:"http://jizhang-api-dev.it266.com/api/member/delete?token=",MemberAdd:"http://jizhang-api-dev.it266.com/api/member/add?token=",Feed:"http://jizhang-api-dev.it266.com/api/feedback/add?token=",SubAcc:"http://jizhang-api-dev.it266.com/api/record/create?token=",WaitRP:"http://jizhang-api-dev.it266.com/api/record/account/waiting?token=",View:"http://jizhang-api-dev.it266.com/api/view/home?token=",Del:{Url1:l+"/record/delete?id=",Url2:"&token="},RecDetail:{Url1:l+"/record/detail?id=",Url2:"&token="},RecEdit:{Url1:l+"/record/update?id=",Url2:"&token="},RecItemEdit:{Url1:l+"/record/item/update?itemId=",Url2:"&token="},Sequel:"http://jizhang-api-dev.it266.com/api/record/sequel?token="},u={name:"Index",components:{mTabbar:n,mTabbarItem:r},methods:{constructor:function(){var t=this;this.axios.get(d.User+localStorage.getItem("token")).then(function(e){e.data.status||(localStorage.clear(),t.$router.push("login"))})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),t._v(" "),a("m-Tabbar",[a("m-Tabbar-Item",{attrs:{id:"statistics"}},[a("span",{staticClass:"iconfont",attrs:{slot:"icon-normal"},slot:"icon-normal"},[t._v("")]),t._v(" "),a("div",[t._v("统计")])]),t._v(" "),a("m-Tabbar-Item",{attrs:{id:"account"}},[a("div",{staticClass:"normal",attrs:{slot:"normal"},slot:"normal"})]),t._v(" "),a("m-Tabbar-Item",{attrs:{id:"me"}},[a("span",{staticClass:"iconfont",attrs:{slot:"icon-normal"},slot:"icon-normal"},[t._v("")]),t._v(" "),a("div",[t._v("我的")])])],1)],1)},staticRenderFns:[]};var _=a("VU/8")(u,h,!1,function(t){a("cuLW")},null,null).exports,m=a("/ocq"),p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"m-topbar"},[this._t("default")],2)},staticRenderFns:[]};var v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"m-topbar-item"},[e("span",{staticClass:"m-topbar-item-text"},[this._t("default")],2)])},staticRenderFns:[]};var f={data:function(){return{hidden:!0}},methods:{goBack:function(){this.path?(this.$router.go(this.path),this.path=""):this.$router.go(-1)}},props:{title:"",is_goBack:"",is_select:"",path:""},components:{mTopbar:a("VU/8")({},p,!1,function(t){a("EpkJ")},"data-v-6788f6c2",null).exports,mTopbarItem:a("VU/8")({},v,!1,function(t){a("x4Rt")},"data-v-f974031c",null).exports}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("m-topbar",[t.is_goBack?t._e():a("m-topbar-item",{staticClass:"left-list"},[a("span")]),t._v(" "),t.is_goBack?a("m-topbar-item",[a("div",{staticClass:"goBack iconfont",on:{click:t.goBack}},[t._v("")])]):t._e(),t._v(" "),t.hidden?a("m-topbar-item",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.is_select?a("m-topbar-item",{staticClass:"right-float"},[t._v("筛选")]):t._e(),t._v(" "),t.is_select?t._e():a("m-topbar-item",{staticClass:"right-float"},[a("span")])],1)],1)},staticRenderFns:[]};var y=a("VU/8")(f,g,!1,function(t){a("96qr")},"data-v-55361800",null).exports,k=a("gBzA"),C=a.n(k),b={data:function(){return{login:"reg"}},components:{mHeader:y},methods:{constructor:function(){localStorage.getItem("token")?this.$router.push("me"):this.$router.push("login")},change:function(){this.login="login"==this.login?"reg":"login"}},created:function(){this.constructor()}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("div",{staticClass:"reg"},[a("div",{staticClass:"reg-header"},[a("router-link",{staticClass:"iconfont",attrs:{to:t.login},nativeOn:{click:function(e){return t.change()}}},[t._v(t._s("reg"==t.login?"注册":"登录"))])],1),t._v(" "),a("div",{staticClass:"reg-bgi"},[a("keep-alive",[a("router-view")],1)],1)])])},staticRenderFns:[]};var x=a("VU/8")(b,w,!1,function(t){a("6V7z")},"data-v-68c77b6c",null).exports,D={data:function(){return{title:"记一笔",is_goBack:!0}},components:{mHeader:y},methods:{},created:function(){}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"account"},[e("div",{staticClass:"account-top"},[e("mHeader",{attrs:{title:this.title}}),this._v(" "),e("div",{staticClass:"account-header"},[e("router-link",{staticClass:"right",attrs:{to:"budget",type:2}},[e("span",[this._v("收入")])]),this._v(" "),e("router-link",{staticClass:"left",attrs:{to:"out",type:1}},[e("span",[this._v("支出")])])],1)],1),this._v(" "),e("div",{staticClass:"account-other"},[e("keep-alive",[e("router-view")],1)],1)])},staticRenderFns:[]};var I=a("VU/8")(D,T,!1,function(t){a("iwp8")},"data-v-3732c18c",null).exports,S=a("bOdI"),j=a.n(S),R=(a("rNn+"),a("eDyQ")),O={data:function(){return{hidden:!1,nickname:"未命名",photoImg:"",name:"",id:"",title:"我的",BookList:{},bookId:"",friends:0,token:"",recordNum:0,page:1}},methods:{constructor:function(){var t=this;localStorage.getItem("token")?(this.token=localStorage.getItem("token"),this.axios.get(d.User+localStorage.getItem("token")).then(function(e){e.data.status?(t.photoImg=e.data.data.avatar_url,t.nickname=e.data.data.nickname,localStorage.setItem("nickname",e.data.data.nickname),localStorage.setItem("tel",e.data.data.mobile)):(localStorage.clear(),t.$router.push("login"))}).catch(function(t){console.log(t)})):this.$router.push("login")},getBook:function(){var t=this;this.axios.get(d.Book+this.token).then(function(e){e.data.status&&(t.BookList=e.data.data)})},getBookNow:function(){var t=this;this.axios.get(d.BookGet+this.token).then(function(e){t.bookId=e.data.data.id,t.getMember(t.bookId)})},getMember:function(t){var e=this;this.axios.get(d.MemberList+this.token,{params:{book_id:t}}).then(function(t){t.data.status?e.friends=t.data.data.length:e.friends=0})},getRecord:function(){var t=this;this.axios.get(d.Record+this.token,{params:{begin_date:"1900-01-01",end_date:"2900-01-01",page:this.page}}).then(function(e){if(e.data.status){if(t.recordNum+=e.data.data.list.length,20!=e.data.data.list.length)return;t.page++,t.getRecord()}})},goToRouter:function(t){this.$router.push("/"+t)}},components:j()({mHeader:y},R.a.name,R.a),created:function(){this.constructor(),this.getBook(),this.getBookNow(),this.getRecord()}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"me"},[a("div",{staticClass:"top"},[a("m-header",{attrs:{title:t.title}}),t._v(" "),a("div",{staticClass:"me-head"},[a("span",{staticClass:"photo",on:{click:function(e){return t.goToRouter("edit-info")}}},[a("img",{attrs:{src:t.photoImg,alt:""}})]),t._v(" "),a("p",{staticClass:"nickname"},[t._v(t._s(t.nickname))])])],1),t._v(" "),a("div",{staticClass:"me-center"},[a("div",{staticClass:"me-center-list me-center-left"},[a("span",{staticClass:"me-center-left-num"},[t._v(t._s(t.friends))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"me-center-list me-center-center"},[a("span",{staticClass:"me-center-center-num"},[t._v(t._s(t.BookList.length?t.BookList.length:0))]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"me-center-list me-center-right"},[a("span",{staticClass:"me-center-right-num"},[t._v(t._s(t.recordNum))]),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"me-bottom"},[a("div",{staticClass:"me-bottom-list",on:{click:function(e){return t.goToRouter("Invite")}}},[t._m(3),t._v(" "),t._m(4)]),t._v(" "),a("div",{staticClass:"me-bottom-list",on:{click:function(e){return t.goToRouter("set-info")}}},[t._m(5),t._v(" "),t._m(6)])]),t._v(" "),a("div",{staticClass:"me-bottom me-bottom-last"},[a("div",{staticClass:"me-bottom-list",on:{click:function(e){return t.goToRouter("setAcc")}}},[t._m(7),t._v(" "),t._m(8)]),t._v(" "),a("div",{staticClass:"me-bottom-list",on:{click:function(e){return t.goToRouter("feedback")}}},[t._m(9),t._v(" "),t._m(10)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-center-list-title"},[e("span",{staticClass:"me-center-list-logo iconfont"},[this._v("")]),this._v("\n        已邀请\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-center-list-title"},[e("span",{staticClass:"me-center-list-logo iconfont"},[this._v("")]),this._v("\n        总账本\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-center-list-title"},[e("span",{staticClass:"me-center-list-logo iconfont"},[this._v("")]),this._v("\n        总明细\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-left"},[e("span",{staticClass:"me-bottom-left-icon iconfont"},[this._v("")]),this._v(" "),e("span",{staticClass:"me-bottom-left-title"},[this._v("邀请好友")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-right"},[e("span",{staticClass:"me-bottom-right-icon iconfont"},[this._v("")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-left"},[e("span",{staticClass:"me-bottom-left-icon iconfont"},[this._v("")]),this._v(" "),e("span",{staticClass:"me-bottom-left-title"},[this._v("设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-right"},[e("span",{staticClass:"me-bottom-right-icon iconfont"},[this._v("")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-left"},[e("span",{staticClass:"me-bottom-left-icon iconfont"},[this._v("")]),this._v(" "),e("span",{staticClass:"me-bottom-left-title"},[this._v("账簿账户管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-right"},[e("span",{staticClass:"me-bottom-right-icon iconfont"},[this._v("")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-left"},[e("span",{staticClass:"me-bottom-left-icon iconfont"},[this._v("")]),this._v(" "),e("span",{staticClass:"me-bottom-left-title"},[this._v("意见反馈")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me-bottom-list-right"},[e("span",{staticClass:"me-bottom-right-icon iconfont"},[this._v("")])])}]};var U=a("VU/8")(O,B,!1,function(t){a("O8L9")},"data-v-6ecb74a9",null).exports,A=(a("YTdg"),a("G+PK")),E={data:function(){return{title:"账簿",out_int:"0",out_float:"00",income_int:"0",income_float:"00",month:"",year:"",yy:"",mm:"",dd:"",isLoading:!1}},methods:{constructor:function(){var t=this,e=new Date,a=e.getMonth()+1;this.mm=a<10?"0"+a:a;var i=e.getDate();this.dd=i<10?"0"+i:i,this.axios.get(d.View+localStorage.getItem("token")).then(function(e){var a=e.data.data.account.out.split("."),i=e.data.data.account.in.split("."),s=e.data.data.account.month.split("-");t.out_int=a[0],t.out_float=a[1],t.income_int=i[0],t.income_float=i[1],t.year=s[0],t.month=s[1]})},onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.reload()},500)}},components:j()({mHeader:y},A.a.name,A.a),created:function(){this.constructor()}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics"},[a("div",{staticClass:"statistics-info"},[a("div",{staticClass:"statistics-top"},[a("m-header",{attrs:{title:t.title}}),t._v(" "),a("div",{staticClass:"statistics-top-main"},[a("div",{staticClass:"statistics-left"},[a("span",{staticClass:"statistics-datetime small-font"},[a("span",{staticClass:"year"},[t._v(t._s(t.year))]),t._v("年\n          ")]),t._v(" "),a("p",{staticClass:"statistics-datetime"},[a("span",[t._v(t._s(t.month))]),t._v(" "),a("span",{staticClass:"small_num"},[t._v("月")])])]),t._v(" "),a("div",{staticClass:"statistics-center"},[a("span",{staticClass:"statistics-datetime small-font"},[t._v("账面收入")]),t._v(" "),a("p",{staticClass:"statistics-datetime"},[a("span",[t._v(t._s(t.income_int))]),t._v(".\n            "),a("span",{staticClass:"small_num"},[t._v(t._s(t.income_float))])])]),t._v(" "),a("div",{staticClass:"statistics-right"},[a("span",{staticClass:"statistics-datetime small-font"},[t._v("账面支出")]),t._v(" "),a("p",{staticClass:"statistics-datetime"},[a("span",[t._v(t._s(t.out_int))]),t._v(".\n            "),a("span",{staticClass:"small_num"},[t._v(t._s(t.out_float))])])])])],1),t._v(" "),a("div",{staticClass:"statistics-top-list"},[a("router-link",{attrs:{to:"menu"}},[a("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),a("router-link",{attrs:{to:"pie-chart"}},[a("span",{staticClass:"iconfont"},[t._v("")])])],1),t._v(" "),a("div",{staticClass:"transition"},[a("div",{staticClass:"statistics-left"},[t._v(t._s(t.mm)+"月"+t._s(t.dd)+"日")]),t._v(" "),a("div",{staticClass:"statistics-right"},[t._v("收入"+t._s(t.income_int)+"."+t._s(t.income_float)+" 支出"+t._s(t.out_int)+"."+t._s(t.out_float))])])]),t._v(" "),a("keep-alive",[a("router-view")],1)],1)},staticRenderFns:[]};var $,L=a("VU/8")(E,F,!1,function(t){a("f72b")},"data-v-34bcac99",null).exports,N=(a("zLqm"),a("e/wJ")),z=(a("X+iK"),a("0f2/")),P=(a("xmO5"),a("T88I")),M=(a("1Ol6"),a("IxQ2")),V=(a("Ec+o"),a("4Oxo")),q=(a("8AJj"),a("03qL")),H=(a("mhUW"),a("EjYQ")),Y=(a("FvWY"),a("atKk")),W=(a("Vfrd"),a("aNrq")),Q={data:function(){return{is_goBack:!0,title:"账户管理",token:"",assets_list:[],show:!1,other_title:"",assets_name:"",toDo:"",toDoId:"",add:!1,assets_initial:"",remarks:"",assets_type:"0",activeNames:["1"],radio:0,openSelectBox:!1,assets_type_name:["请选择","现金","银行","支付平台","其他"],assets_remark:""}},methods:{constructor:function(){this.token=localStorage.getItem("token"),this.getAssetsInfo()},getAssetsInfo:function(){var t=this;this.axios.get(d.Account+this.token).then(function(e){t.assets_list=e.data.data,t.remarks=e.data.remark}).catch(function(t){console.log(t)})},addAssets:function(){this.show=!0,this.other_title="添加资产账户",this.toDo="新建",this.add=!0},editAssets:function(t,e,a,i){this.show=!0,this.other_title="修改资产账户",this.assets_name=e,this.toDo="修改",this.toDoId=t,this.assets_remark=i,this.assets_type=a},delAssets:function(t){var e=this;W.a.confirm({title:"提示",message:"您确定要删除吗？"}).then(function(){e.axios.post(d.DelAcc.Url1+t+d.DelAcc.Url2+e.token).then(function(t){t.data.status?(Object(R.a)("删除成功"),e.getAssetsInfo()):Object(R.a)(t.data.data)})}).catch(function(){})},clear_info:function(){this.other_title="",this.assets_name="",this.add=!1},toDoAxios:function(){"修改"==this.toDo?this.toDoEdit():"新建"==this.toDo&&this.toDoAdd()},toDoAdd:function(){var t=this,e={name:this.assets_name,type:this.assets_type,initial_balance:this.assets_initial,remark:this.remarks,sort:10};this.axios.post(d.AccAdd+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("创建成功"),t.getAssetsInfo()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})},toDoEdit:function(){var t=this,e={name:this.assets_name,type:this.assets_type,remark:this.remarks,sort:10};R.a.loading({mask:!0,message:"加载中..."}),this.axios.post(d.AccEdit.Url1+this.toDoId+d.AccEdit.Url2+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("修改成功"),t.getAssetsInfo()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})},openSelect:function(){this.openSelectBox=1!=this.openSelectBox},changeSelect:function(t){this.assets_type=t,this.openSelectBox=!1}},created:function(){this.constructor()},components:($={mHeader:y},j()($,Y.a.name,Y.a),j()($,H.a.name,H.a),j()($,q.a.name,q.a),j()($,V.a.name,V.a),j()($,W.a.name,W.a),j()($,W.a.Component.name,W.a.Component),j()($,R.a.name,R.a),j()($,M.a.name,M.a),j()($,P.a.name,P.a),j()($,z.a.name,z.a),j()($,N.a.name,N.a),$)},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"assets"},[a("div",{staticClass:"assets-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}})],1),t._v(" "),a("div",{staticClass:"assets-info"},t._l(t.assets_list,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"assets_list_info"},[a("span",[a("span",{staticClass:"assets_list_name"},[t._v(t._s(e.name))])]),t._v(" "),a("span",{staticClass:"assets_balance"},[t._v(t._s(e.balance))])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"warning",text:"编辑"},on:{click:function(a){return t.editAssets(e.id,e.name,e.type,e.remark)}}}),t._v(" "),a("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.delAssets(e.id)}}})],1)],2)}),1),t._v(" "),a("van-dialog",{attrs:{title:t.other_title,"show-cancel-button":""},on:{cancel:t.clear_info,confirm:t.toDoAxios},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"assets_list_set"},[a("span",[t._v("账户名称")]),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.assets_name,expression:"assets_name"}],attrs:{type:"text",placeholder:"请输入账户名称"},domProps:{value:t.assets_name},on:{input:function(e){e.target.composing||(t.assets_name=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"assets_list_set"},[a("span",[t._v("账户类型")]),t._v(" "),a("span",{staticClass:"assets_list_set_select",on:{click:t.openSelect}},[t._v("\n        "+t._s(t.assets_type_name[t.assets_type])+"\n        "),a("span",{staticClass:"iconfont"},[t._v("")])])]),t._v(" "),t.openSelectBox?a("div",{staticClass:"assets_list_set SelectBox"},[a("div",[a("span",[t._v("请选择")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.assets_type,expression:"assets_type"}],attrs:{type:"radio",name:"select",value:"0"},domProps:{checked:t._q(t.assets_type,"0")},on:{input:function(e){return t.changeSelect(0)},change:function(e){t.assets_type="0"}}})]),t._v(" "),a("div",[a("span",[t._v("现金")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.assets_type,expression:"assets_type"}],attrs:{type:"radio",name:"select",value:"1"},domProps:{checked:t._q(t.assets_type,"1")},on:{input:function(e){return t.changeSelect(1)},change:function(e){t.assets_type="1"}}})]),t._v(" "),a("div",[a("span",[t._v("银行")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.assets_type,expression:"assets_type"}],attrs:{type:"radio",name:"select",value:"2"},domProps:{checked:t._q(t.assets_type,"2")},on:{input:function(e){return t.changeSelect(2)},change:function(e){t.assets_type="2"}}})]),t._v(" "),a("div",[a("span",[t._v("支付平台")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.assets_type,expression:"assets_type"}],attrs:{type:"radio",name:"select",value:"3"},domProps:{checked:t._q(t.assets_type,"3")},on:{input:function(e){return t.changeSelect(3)},change:function(e){t.assets_type="3"}}})]),t._v(" "),a("div",[a("span",[t._v("其他")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.assets_type,expression:"assets_type"}],attrs:{type:"radio",name:"select",value:"4"},domProps:{checked:t._q(t.assets_type,"4")},on:{input:function(e){return t.changeSelect(4)},change:function(e){t.assets_type="4"}}})])]):t._e(),t._v(" "),t.add?a("div",{staticClass:"assets_list_set"},[a("span",[t._v("初始余额")]),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.assets_initial,expression:"assets_initial"}],attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.assets_initial},on:{input:function(e){e.target.composing||(t.assets_initial=e.target.value)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"assets_list_set assets_list_set_remarks"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remarks,expression:"remarks"}],attrs:{name:"",id:"",cols:"30",rows:"3",placeholder:""==t.assets_remark?"请输入备注":t.assets_remark},domProps:{value:t.remarks},on:{input:function(e){e.target.composing||(t.remarks=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"assets-button"},[a("button",{on:{click:t.addAssets}},[t._v("添加新账户")])])],1)},staticRenderFns:[]};var K,Z=a("VU/8")(Q,G,!1,function(t){a("Hs1a"),a("bsPT")},"data-v-34892981",null).exports,J=(a("ql3G"),a("14JB")),X={data:function(){return{start:0,end:0,list:{},type:{},isLoading:!1,lists:[],loading:!0,finished:!1,page:1,num:0,loop:0}},components:(K={},j()(K,Y.a.name,Y.a),j()(K,q.a.name,q.a),j()(K,H.a.name,H.a),j()(K,W.a.Component.name,W.a.Component),j()(K,J.a.name,J.a),j()(K,A.a.name,A.a),K),methods:{getTypeIncome:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:1,dataType:1}}).then(function(e){if(e.data.status){var a=e.data.data;for(var i in a)t.type[a[i].id]=a[i].name;t.getTypeOut()}}).catch(function(t){console.log(t)})},getTypeOut:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:2,dataType:1}}).then(function(e){if(e.data.status){var a=e.data.data;for(var i in a)t.type[a[i].id]=a[i].name;t.getAccountList()}})},getAccountList:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."}),this.axios.get(d.Record+localStorage.getItem("token"),{params:{page:this.page}}).then(function(e){e.data.status&&(t.list=e.data.data.list,t.page+=1,t.num=e.data.data.list.length,t.finished=!1,t.loading&&t.onLoad())}).catch(function(t){console.log(t)})},opendel:function(){this.show=!0},del:function(t){var e=this;W.a.confirm({title:"删除",message:"确认删除该条数据嘛？"}).then(function(){R.a.loading({mask:!0,message:"加载中..."}),e.axios.post(d.Del.Url1+t+d.Del.Url2+localStorage.getItem("token")).then(function(t){t.data.status?(R.a.clear(),Object(R.a)("删除成功"),e.page=1,e.num=0,e.lists=[],e.loop=0,e.loading=!0,e.getAccountList()):Object(R.a)(t.data.data)})}).catch(function(){})},goToRouter:function(t,e){localStorage.setItem("detail_type",t),localStorage.setItem("detail_id",e),this.$router.push("/account-detail")},onRefresh:function(){var t=this;setTimeout(function(){t.isLoading=!1,t.reload(),t.$toast("刷新成功")},500)},reload:function(){this.page=1,this.num=0,this.lists=[],this.loading=!0,this.loop=0,this.getAccountList()},onLoad:function(){var t=this;setTimeout(function(){for(var e=0;e<5;e++){if(!t.list[t.loop])return t.loading=!1,void(t.finished=!0);t.lists.push(t.list[t.loop]),t.loop++}t.loading=!1,t.lists.length>=20*(t.page-2)+t.num&&(R.a.clear(),20==t.num?(t.num=0,t.loop=0,t.getAccountList()):(t.loop=0,t.finished=!0))},500)}},created:function(){this.getTypeIncome()}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu"},[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.lists,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"menu-list",on:{click:function(a){return t.goToRouter(e.type,e.id)}}},[a("div",{staticClass:"menu-list-left"},[(t.red=2==e.type)?a("span"):t._e(),t._v(" "),a("span",{staticClass:"menu-list-left-iconfont iconfont",class:{red:t.red}},[t._v("")]),t._v(" "),a("div",{staticClass:"menu-list-left-title"},[t._v(t._s(t.type[e.category_id]))])]),t._v(" "),a("div",{staticClass:"menu-list-right-money"},[2==e.type?a("span",[t._v("-")]):t._e(),t._v("\n            "+t._s(e.total_money)+"\n          ")])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"danger",text:"删除",id:e.id},on:{click:function(a){return t.del(e.id)}}})],1)],2)}),1)],1)],1)},staticRenderFns:[]};var et=a("VU/8")(X,tt,!1,function(t){a("D8SS")},"data-v-7e55c320",null).exports,at={props:{type:{type:String}},data:function(){return{list:[]}},methods:{constructor:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:1,dataType:1}}).then(function(e){t.list=e.data.data}).catch(function(t){console.log(t)})},goToRouter:function(t){"type"==t?this.$router.push("/type-mgt"):(localStorage.setItem("budgetType",1),localStorage.setItem("budgetCateId",t.id),localStorage.setItem("budgetCateName",t.name),this.$router.push("/write"))}},created:function(){this.constructor()}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"budget"},[a("div",{staticClass:"budget-list"},[t._l(t.list,function(e,i){return a("a",{key:i,attrs:{type:e},on:{click:function(a){return t.goToRouter(e)}}},[a("div",{staticClass:"list-icon iconfont"},[t._v("")]),t._v(" "),a("div",{staticClass:"list-text"},[t._v(t._s(e.name))])])}),t._v(" "),a("a",{staticClass:"budGetSet",on:{click:function(e){return t.goToRouter("type")}}},[a("div",{staticClass:"list-icon iconfont"},[t._v("")]),t._v(" "),a("div",{staticClass:"list-text"},[t._v("设置")])])],2)])},staticRenderFns:[]};var st=a("VU/8")(at,it,!1,function(t){a("1oyl")},"data-v-3f185a0a",null).exports,nt={props:{type:{type:String}},data:function(){return{list:[]}},methods:{constructor:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:localStorage.getItem("budget")?localStorage.getItem("budget"):"2",dataType:1}}).then(function(e){t.list=e.data.data}).catch(function(t){console.log(t)})},goToRouter:function(t){"type"==t?this.$router.push("/type_out"):(localStorage.setItem("budgetType",2),localStorage.setItem("budgetCateId",t.id),localStorage.setItem("budgetCateName",t.name),this.$router.push("/write"))}},created:function(){this.constructor()}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"budget"},[a("div",{staticClass:"budget-list"},[t._l(t.list,function(e,i){return a("a",{key:i,on:{click:function(a){return t.goToRouter(e)}}},[a("div",{staticClass:"list-icon iconfont"},[t._v("")]),t._v(" "),a("div",{staticClass:"list-text"},[t._v(t._s(e.name))])])}),t._v(" "),a("a",{staticClass:"budGetSet",on:{click:function(e){return t.goToRouter("type")}}},[a("div",{staticClass:"list-icon iconfont"},[t._v("")]),t._v(" "),a("div",{staticClass:"list-text"},[t._v("设置")])])],2)])},staticRenderFns:[]};var ct,rt=a("VU/8")(nt,ot,!1,function(t){a("XZl/")},"data-v-5034d69f",null).exports,lt=(a("ohRI"),a("vppu")),dt=(a("GzRZ"),a("v2vu")),ut=(a("JeGI"),a("tZYH")),ht={data:function(){return{currentDate:new Date,show:!1,show1:!1,show2:!1,is_goBack:!0,title:"记一笔",remark:"",dateTime:"",objectName:"",total_money:"",first_money:"",image_keys:[],money:"",account:"请选择",account_id:"",mode:"全额",radio:"1",radios:"-1",accountInfo:[],fileList:[],budgetType:"",budgetCateId:"",budgetCateName:"",token:""}},methods:{constructor:function(){var t=this.currentDate.getFullYear(),e=this.currentDate.getMonth()+1;e=e<10?"0"+e:e;var a=this.currentDate.getDate();a=a<10?"0"+a:a,this.dateTime=t+"-"+e+"-"+a,this.budgetType=localStorage.getItem("budgetType"),this.budgetCateId=localStorage.getItem("budgetCateId"),this.budgetCateName=localStorage.getItem("budgetCateName"),this.token=localStorage.getItem("token")},getAccount:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."}),this.axios.get(d.Account+localStorage.getItem("token")).then(function(e){e.data.status?(t.accountInfo=e.data.data,R.a.clear()):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})},showPopup:function(){this.show=!0},showPopup1:function(){this.show1=!0},showPopup2:function(){this.show2=!0},getDateTime:function(t){var e=this.currentDate.getFullYear(),a=this.currentDate.getMonth()+1;a=a<10?"0"+a:a;var i=this.currentDate.getDate();i=i<10?"0"+i:i,this.dateTime=e+"-"+a+"-"+i,this.show=!1},closeShow:function(){this.show=!1},typeChange:function(t){console.log(t),this.mode=1==t?"全额":"分期",this.show1=!1},accountChange:function(t){-1==t?this.account="请选择":(this.account=this.accountInfo[t].name,this.account_id=this.accountInfo[t].id),this.show2=!1},save:function(){var t=this;for(var e in R.a.loading({mask:!0,message:"加载中..."}),this.image_keys)if(0==e)var a=this.image_keys[e];else a+=","+this.image_keys[e];var i={total_money:this.total_money,money:""==this.first_money?this.total_money:this.first_money,account_id:this.account_id,category_id:this.budgetCateId,date:this.dateTime,company_name:this.objectName,remark:this.remark,image_keys:a};this.axios.post(d.SubAcc+this.token,C.a.stringify(i)).then(function(e){e.data.status?(Object(R.a)("记账成功"),t.$router.go(-1)):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})},afterRead:function(t){var e=this,a=new FormData;a.append("file",t.file);this.axios.post(d.UploadImg+this.token,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data.status?e.image_keys.push(t.data.data.file.fileKey):Object(R.a)(t.data.data)}).catch(function(t){console.log(t)})},deleteImg:function(t){for(var e in this.fileList)if(t==this.fileList[e])return this.image_keys.splice(e,1),Object(R.a)("图片删除成功"),!0}},created:function(){this.constructor(),this.getAccount()},components:(ct={mHeader:y},j()(ct,ut.a.name,ut.a),j()(ct,dt.a.name,dt.a),j()(ct,M.a.name,M.a),j()(ct,P.a.name,P.a),j()(ct,q.a.name,q.a),j()(ct,V.a.name,V.a),j()(ct,lt.a.name,lt.a),j()(ct,R.a.name,R.a),ct)},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"write"},[a("div",{staticClass:"write-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}}),t._v(" "),a("div",{staticClass:"write-top-info"},[a("span",[t._v(t._s(1==t.budgetType?"收入":"支出")+"账簿")]),t._v(" "),a("span",[t._v(t._s(1==t.budgetType?"收款":"付款")+"类型 : "+t._s(t.budgetCateName))])])],1),t._v(" "),a("div",{staticClass:"write-info"},[a("div",{staticClass:"write-info-list"},[a("span",{staticClass:"write-info-list-text"},[t._v("账面"+t._s(1==t.budgetType?"收入":"支出"))]),t._v(" "),a("div",{staticClass:"write-info-list-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.total_money,expression:"total_money"}],attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.total_money},on:{input:function(e){e.target.composing||(t.total_money=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"write-info-list"},[a("span",{staticClass:"write-info-list-text"},[t._v("交易对象")]),t._v(" "),a("div",{staticClass:"write-info-list-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objectName,expression:"objectName"}],attrs:{type:"text",placeholder:"输入交易对象"},domProps:{value:t.objectName},on:{input:function(e){e.target.composing||(t.objectName=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"write-info-list"},[a("span",{staticClass:"write-info-list-text"},[t._v(t._s(1==t.budgetType?"收款":"付款")+"方式")]),t._v(" "),a("div",{staticClass:"write-info-list-input"},[a("span",{staticClass:"write-select",on:{click:t.showPopup1}},[t._v(t._s(t.mode))]),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])])]),t._v(" "),"分期"==t.mode?a("div",{staticClass:"write-info-list"},[a("span",{staticClass:"write-info-list-text"},[t._v("首笔"+t._s(1==t.budgetType?"收款":"付款"))]),t._v(" "),a("div",{staticClass:"write-info-list-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.first_money,expression:"first_money"}],attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.first_money},on:{input:function(e){e.target.composing||(t.first_money=e.target.value)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"write-info-list"},[a("span",{staticClass:"write-info-list-text"},[t._v(t._s(1==t.budgetType?"收款":"付款")+"账户")]),t._v(" "),a("div",{staticClass:"write-info-list-input"},[a("span",{staticClass:"write-select",on:{click:t.showPopup2}},[t._v(t._s(t.account))]),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])])]),t._v(" "),a("div",{staticClass:"write-info-list",on:{click:t.showPopup}},[a("span",{staticClass:"write-info-list-text"},[t._v(t._s(1==t.budgetType?"收款":"付款")+"日期")]),t._v(" "),a("div",{staticClass:"write-info-list-input"},[a("span",{staticClass:"dateTime"},[t._v(t._s(t.dateTime))]),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])])]),t._v(" "),a("div",{staticClass:"write-info-list"},[a("span",{staticClass:"write-info-list-text"},[t._v(t._s(1==t.budgetType?"收入":"支出")+"凭证")]),t._v(" "),a("div",{staticClass:"write-info-list-input"},[a("van-uploader",{attrs:{multiple:"","after-read":t.afterRead,"before-delete":t.deleteImg},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}}),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])],1)]),t._v(" "),a("div",{staticClass:"write-info-list"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],attrs:{name:"",id:"",cols:"30",rows:"3",placeholder:"请输入备注..."},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"write-info-button"},[a("button",{on:{click:t.save}},[t._v("保存")])])]),t._v(" "),a("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.getDateTime,cancel:t.closeShow},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),t._v(" "),a("van-popup",{style:{width:"90%"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[a("van-radio-group",{on:{change:t.typeChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"全额",clickable:""},on:{click:function(e){t.radio="1"}}},[a("van-radio",{attrs:{slot:"right-icon",name:"1"},slot:"right-icon"})],1),t._v(" "),a("van-cell",{attrs:{title:"分期",clickable:""},on:{click:function(e){t.radio="2"}}},[a("van-radio",{attrs:{slot:"right-icon",name:"2"},slot:"right-icon"})],1)],1)],1)],1),t._v(" "),a("van-popup",{style:{width:"90%"},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[a("van-radio-group",{on:{change:t.accountChange},model:{value:t.radios,callback:function(e){t.radios=e},expression:"radios"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"请选择",clickable:""},on:{click:function(e){t.radios="-1"}}},[a("van-radio",{attrs:{slot:"right-icon",name:"-1"},slot:"right-icon"})],1),t._v(" "),t._l(t.accountInfo,function(e,i){return a("van-cell",{key:i,attrs:{title:e.name,clickable:""},on:{click:function(e){t.radios=i}}},[a("van-radio",{attrs:{slot:"right-icon",name:i},slot:"right-icon"})],1)})],2)],1)],1)],1)},staticRenderFns:[]};var mt=a("VU/8")(ht,_t,!1,function(t){a("pwkd"),a("I+TN")},"data-v-26b6c5da",null).exports,pt={data:function(){return{start:0,end:0,list:{},account:{}}},components:{},methods:{constructor:function(){var t=this;this.axios.get(d.View+localStorage.getItem("token")).then(function(e){t.list=e.data.data,t.account=e.data.data.account}).catch(function(t){console.log(t)})},goToRouter:function(t){this.$router.push(t)}},created:function(){this.constructor()}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"total"},[a("div",{staticClass:"total-list",on:{click:function(e){return t.goToRouter("detailed")}}},[t._m(0),t._v(" "),a("div",{staticClass:"total-list-right-money green"},[t._v(t._s(parseFloat(t.account.in).toFixed(2)))])]),t._v(" "),a("div",{staticClass:"total-list",on:{click:function(e){return t.goToRouter("detailed")}}},[t._m(1),t._v(" "),a("div",{staticClass:"total-list-right-money red"},[t._v(t._s(parseFloat(t.account.out).toFixed(2)))])]),t._v(" "),a("div",{staticClass:"total-list",on:{click:function(e){return t.goToRouter("detailed")}}},[t._m(2),t._v(" "),a("div",{staticClass:"total-list-right-money orange"},[t._v(t._s(parseFloat(t.account.in-t.account.out).toFixed(2)))])]),t._v(" "),a("div",{staticClass:"total-transition"},[t._v("待收/待付")]),t._v(" "),a("div",{staticClass:"total-list",on:{click:function(e){return t.goToRouter("wait-income")}}},[t._m(3),t._v(" "),a("div",{staticClass:"total-list-right-money green"},[t._v(t._s(parseFloat(t.list.waitingForPayment).toFixed(2)))])]),t._v(" "),a("div",{staticClass:"total-list",on:{click:function(e){return t.goToRouter("wait-out")}}},[t._m(4),t._v(" "),a("div",{staticClass:"total-list-right-money red"},[t._v(t._s(parseFloat(t.list.waitingForCollection).toFixed(2)))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"total-list-left"},[e("div",{staticClass:"total-list-left-title"},[this._v("账面收入")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"total-list-left"},[e("div",{staticClass:"total-list-left-title"},[this._v("账面支出")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"total-list-left"},[e("div",{staticClass:"total-list-left-title"},[this._v("账面利润")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"total-list-left"},[e("div",{staticClass:"total-list-left-title"},[this._v("待收款")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"total-list-left"},[e("div",{staticClass:"total-list-left-title"},[this._v("待付款")])])}]};var ft=a("VU/8")(pt,vt,!1,function(t){a("oYF5")},"data-v-4c0accfb",null).exports,gt={components:j()({},R.a.name,R.a),data:function(){return{tel:"",pwd:"",yz:"",yzsrc:"",tpkey:"",verify:"",nickname:"",is_img:!1,currents:""}},methods:{obtainImg:function(){var t=this;this.axios.get(d.GetImg).then(function(e){t.yzsrc=e.data.data.url,t.tpkey=e.data.data.key})},obtainShortMsg:function(){var t=this;if(""!=this.tel)if(1!=this.is_img||""!=this.yz){var e={mobile:this.tel,captcha_code:this.yz,captcha_key:this.tpkey};this.axios.post(d.Verify,C.a.stringify(e)).then(function(e){e.data.status?Object(R.a)(e.data.data):"INVALID_CAPTCHA"==e.data.data?(t.obtainImg(),t.is_img=!0):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})}else Object(R.a)("验证码不能为空");else Object(R.a)("手机号不能为空")},doReg:function(){var t=this;if(""!=this.tel)if(""!=this.password)if(""!=this.verify){var e={mobile:this.tel,verify:this.verify,password:this.pwd,nickname:this.nickname};this.axios.post(d.Reg,C.a.stringify(e)).then(function(e){if(e.data.status){var a=e.data.data.token,i=e.data.data.id;localStorage.setItem("token",a),localStorage.setItem("id",i),Object(R.a)("注册成功"),t.$router.push("me")}else Object(R.a)(e.data.data),t.obtainImg()}).catch(function(t){console.log(t)})}else Object(R.a)("手机验证码未填写");else Object(R.a)("密码未填写");else Object(R.a)("手机号不能为空")},current:function(t){this.currents=t}},created:function(){}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg-box"},[t._m(0),t._v(" "),a("div",{staticClass:"reg-input",class:{currents:1==t.currents}},[a("span",[t._v("手机号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],attrs:{type:"text",placeholder:"请填写手机号"},domProps:{value:t.tel},on:{focus:function(e){return t.current(1)},input:function(e){e.target.composing||(t.tel=e.target.value)}}})]),t._v(" "),t.is_img?a("div",{staticClass:"reg-input",class:{currents:2==t.currents}},[a("span",[t._v("图片验证")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.yz,expression:"yz"}],attrs:{type:"text",placeholder:"图片验证码"},domProps:{value:t.yz},on:{focus:function(e){return t.current(2)},input:function(e){e.target.composing||(t.yz=e.target.value)}}}),t._v(" "),a("img",{staticClass:"yz",attrs:{src:t.yzsrc},on:{click:t.obtainImg}})]):t._e(),t._v(" "),a("div",{staticClass:"reg-input",class:{currents:3==t.currents}},[a("span",[t._v("短信验证")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.verify,expression:"verify"}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:t.verify},on:{focus:function(e){return t.current(3)},input:function(e){e.target.composing||(t.verify=e.target.value)}}}),t._v(" "),a("button",{staticClass:"msgyz",on:{click:t.obtainShortMsg}},[t._v("获取验证码")])]),t._v(" "),a("div",{staticClass:"reg-input",class:{currents:4==t.currents}},[a("span",[t._v("昵称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",placeholder:"例如：程程"},domProps:{value:t.nickname},on:{focus:function(e){return t.current(4)},input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"reg-input",class:{currents:5==t.currents}},[a("span",[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"填写密码"},domProps:{value:t.pwd},on:{focus:function(e){return t.current(5)},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"reg-input Btn"},[a("button",{on:{click:t.doReg}},[t._v("注册")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reg-box-title"},[e("span",[this._v("手机号注册")])])}]};var kt=a("VU/8")(gt,yt,!1,function(t){a("qZjV")},"data-v-145f5702",null).exports,Ct={components:j()({},R.a.name,R.a),data:function(){return{tel:"",pwd:"",yzsrc:"",tpkey:"",yz:"",num:0,currents:""}},methods:{obtainImg:function(){var t=this;this.axios.get(d.GetImg).then(function(e){t.yzsrc=e.data.data.url,t.tpkey=e.data.data.key})},login:function(){var t=this;if(""!=this.tel)if(""!=this.pwd){var e={mobile:this.tel,password:this.pwd,captcha_code:this.yz,captcha_key:this.tpkey};this.axios.post(d.Login,C.a.stringify(e)).then(function(e){if(e.data.status){var a=e.data.data.token,i=e.data.data.id;localStorage.setItem("token",a),localStorage.setItem("id",i),Object(R.a)("登录成功"),t.$router.push("menu"),t.num=0}else Object(R.a)(e.data.data),t.num+=1,t.num>5&&t.obtainImg()}).catch(function(t){console.log(t)})}else Object(R.a)("密码未填写");else Object(R.a)("手机号不能为空")},current:function(t){this.currents=t}},created:function(){}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-box"},[t._m(0),t._v(" "),a("div",{staticClass:"login-input",class:{currents:1==t.currents}},[a("span",[t._v("手机号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:t.tel},on:{focus:function(e){return t.current(1)},input:function(e){e.target.composing||(t.tel=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"login-input",class:{currents:2==t.currents}},[a("span",[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t.pwd},on:{focus:function(e){return t.current(2)},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),t.num>5?a("div",{staticClass:"login-input",class:{currents:3==t.currents}},[a("span",[t._v("图片验证")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.yz,expression:"yz"}],attrs:{type:"text",placeholder:"图片验证码"},domProps:{value:t.yz},on:{focus:function(e){return t.current(3)},input:function(e){e.target.composing||(t.yz=e.target.value)}}}),t._v(" "),a("img",{staticClass:"yz",attrs:{src:t.yzsrc},on:{click:t.obtainImg}})]):t._e(),t._v(" "),a("div",{staticClass:"login-input Btn"},[a("button",{on:{click:t.login}},[t._v("登录")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-box-title"},[e("span",[this._v("手机号登录")])])}]};var wt=a("VU/8")(Ct,bt,!1,function(t){a("9d/P")},"data-v-4fb88972",null).exports,xt={data:function(){return{title:"设置",is_goBack:!0,id:"",edit_pwd:"修改密码",edit_tel:"修改手机号",edit_account:"修改账户"}},components:j()({mHeader:y},R.a.name,R.a),methods:{goToRouter:function(t){this.$router.push("/"+t)},logout:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."}),this.axios.get(d.UserOut+localStorage.getItem("token")).then(function(e){e.data.status?(R.a.clear(),localStorage.clear(),Object(R.a)("退出成功"),t.$router.push("login")):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})}}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setInfo"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}}),t._v(" "),a("div",{staticClass:"set-info-center"},[a("div",{staticClass:"center-list",on:{click:function(e){return t.goToRouter("edit-pwd")}}},[a("span",{staticClass:"iconfont"}),t._v("\n      "+t._s(t.edit_pwd)+"\n      "),a("span",{staticClass:"center-bottom-right-icon iconfont"},[t._v("")])]),t._v(" "),a("div",{staticClass:"center-list",on:{click:function(e){return t.goToRouter("edit-tel")}}},[t._v("\n      修改手机号\n      "),a("span",{staticClass:"center-bottom-right-icon iconfont"},[t._v("")])]),t._v(" "),a("div",{staticClass:"center-list",on:{click:function(e){return t.goToRouter("edit-info")}}},[t._v("\n      修改个人信息\n      "),a("span",{staticClass:"center-bottom-right-icon iconfont"},[t._v("")])])]),t._v(" "),a("div",{staticClass:"set-info-bottom"},[a("button",{on:{click:t.logout}},[t._v("退出登录")])]),t._v(" "),a("transition",{attrs:{name:"right"}},[a("router-view")],1)],1)},staticRenderFns:[]};var Tt=a("VU/8")(xt,Dt,!1,function(t){a("RkTm")},"data-v-0a257a60",null).exports,It={data:function(){return{pwd:"",newpwd:"",title:"修改密码",is_goBack:!0,placeholder_pwd:"旧密码",placeholder_newpwd:"新密码"}},methods:{doEdit:function(){var t=this;if(""!=this.pwd)if(""!=this.newpwd){var e={password:this.pwd,new_password:this.newpwd};R.a.loading({mask:!0,message:"加载中..."}),Object(R.a)(),this.axios.post(d.UpdatePass+localStorage.getItem("token"),C.a.stringify(e)).then(function(e){e.data.status?(localStorage.clear(),Object(R.a)("修改成功"),t.$router.push("login")):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})}else Object(R.a)("新密码未填写");else Object(R.a)("密码未填写")}},components:j()({mHeader:y},R.a.name,R.a)},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("div",{staticClass:"edit-pwd-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}})],1),t._v(" "),a("div",{staticClass:"edit-pwd-center"},[a("div",{staticClass:"edit-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"text",placeholder:t.placeholder_pwd},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"edit-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newpwd,expression:"newpwd"}],attrs:{type:"text",placeholder:t.placeholder_newpwd},domProps:{value:t.newpwd},on:{input:function(e){e.target.composing||(t.newpwd=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"edit-pwd-bottom"},[a("button",{on:{click:t.doEdit}},[t._v("修改提交")])])])},staticRenderFns:[]};var jt=a("VU/8")(It,St,!1,function(t){a("j21u")},"data-v-63470fd7",null).exports,Rt={data:function(){return{newtel:"",yzsrc:"",tpkey:"",short:"",img:"",pwd:"",title:"修改手机号",is_goBack:!0,placeholder_newtel:"请输入新手机号",placeholder_pwd:"请输入密码",placeholder_img:"请输入图片验证码",placeholder_short:"请输入短信验证码"}},methods:{obtainImg:function(){var t=this;this.axios.get(d.GetImg).then(function(e){-1==e.data.code?t.placeholder_newtel=e.data.data:(t.yzsrc=e.data.data.url,t.tpkey=e.data.data.key)})},obtainShortMsg:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."});var e={mobile:this.newtel,captcha_code:this.img,captcha_key:this.tpkey};this.axios.post(d.Verify,C.a.stringify(e)).then(function(e){console.log(e),e.data.status?(R.a.clear(),"INVALID_CAPTCHA"==e.data.data?Object(R.a)("请查看验证码是否正确"):Object(R.a)(e.data.data)):(Object(R.a)(e.data.data),t.obtainImg())}).catch(function(t){console.log(t)})},doEdit:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."});var e={password:this.pwd,mobile:this.newtel,verify:this.short};this.axios.post(d.UpdateMobile+localStorage.getItem("token"),C.a.stringify(e)).then(function(e){e.data.status?(R.a.clear(),localStorage.clear(),Object(R.a)("修改成功，请重新登录"),t.$router.push("login")):(Object(R.a)(e.data.data),t.obtainImg())}).catch(function(t){console.log(t)})}},components:j()({mHeader:y},R.a.name,R.a),created:function(){this.obtainImg()}},Ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("div",{staticClass:"edit-tel-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}})],1),t._v(" "),a("div",{staticClass:"edit-tel-center"},[a("div",{staticClass:"edit-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newtel,expression:"newtel"}],attrs:{type:"text",placeholder:t.placeholder_newtel},domProps:{value:t.newtel},on:{input:function(e){e.target.composing||(t.newtel=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"edit-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:t.placeholder_pwd},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"edit-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.img,expression:"img"}],attrs:{type:"text",placeholder:t.placeholder_img},domProps:{value:t.img},on:{input:function(e){e.target.composing||(t.img=e.target.value)}}}),t._v(" "),a("img",{staticClass:"yz",attrs:{src:t.yzsrc},on:{click:t.obtainImg}})]),t._v(" "),a("div",{staticClass:"edit-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.short,expression:"short"}],attrs:{type:"text",placeholder:t.placeholder_short},domProps:{value:t.short},on:{input:function(e){e.target.composing||(t.short=e.target.value)}}}),t._v(" "),a("button",{staticClass:"msgyz",on:{click:t.obtainShortMsg}},[t._v("获取验证码")])])]),t._v(" "),a("div",{staticClass:"edit-tel-bottom"},[a("button",{on:{click:t.doEdit}},[t._v("修改提交")])])])},staticRenderFns:[]};var Bt,Ut=a("VU/8")(Rt,Ot,!1,function(t){a("So0g")},"data-v-7765391f",null).exports,At={data:function(){return{nickname:"",photoImg:"",title:"修改个人信息",is_goBack:!0,placeholder_nickname:"请输入昵称",image_keys:"",fileList:[],token:"",tel:""}},methods:{constructor:function(){this.token=localStorage.getItem("token"),this.tel=localStorage.getItem("tel")},getUserInfo:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."}),this.axios.get(d.User+localStorage.getItem("token")).then(function(e){e.data.status?(t.photoImg=e.data.data.avatar_url,t.nickname=e.data.data.nickname,localStorage.setItem("nickname",e.data.data.nickname),localStorage.setItem("tel",e.data.data.mobile),R.a.clear()):(localStorage.clear(),t.$router.push("login"))}).catch(function(t){console.log(t)})},afterRead:function(t){var e=this;R.a.loading({mask:!0,message:"加载中..."});var a=new FormData;a.append("file",t.file);this.axios.post(d.UploadImg+this.token,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data.data.status?(e.image_keys=t.data.data.file.fileKey,Object(R.a)("头像已选择")):Object(R.a)(t.data.data.data)}).catch(function(t){console.log(t)})},beforeDelete:function(){return this.image_keys="",this.fileList=[],Object(R.a)("头像已移除,可以重新选取"),!0},doEdit:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."});var e={nickname:this.nickname,avatar:this.image_keys};this.axios.post(d.UserInfoEdit+this.token,C.a.stringify(e)).then(function(e){console.log(e),e.data.status?(Object(R.a)(e.data.data),t.$router.push("me")):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})},goToRouter:function(t){this.$router.push("/edit-tel")}},components:(Bt={mHeader:y},j()(Bt,lt.a.name,lt.a),j()(Bt,R.a.name,R.a),Bt),created:function(){this.constructor(),this.getUserInfo()}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-info"},[a("div",{staticClass:"edit-info-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}})],1),t._v(" "),a("div",{staticClass:"edit-info-center"},[a("div",{staticClass:"edit-input"},[a("span",[t._v("头像")]),t._v(" "),a("van-uploader",{style:{backgroundImage:"url("+t.photoImg+")",backgroundSize:"cover"},attrs:{multiple:"","max-count":1,"after-read":t.afterRead,"before-delete":t.beforeDelete},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),t._v(" "),a("div",{staticClass:"edit-input"},[a("span",[t._v("昵称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",placeholder:t.placeholder_nickname},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"edit-input"},[a("span",[t._v("电话号")]),t._v(" "),a("span",{staticClass:"edit_tel",on:{click:t.goToRouter}},[t._v(t._s(t.tel))])])]),t._v(" "),a("div",{staticClass:"edit-info-bottom"},[a("button",{on:{click:t.doEdit}},[t._v("修改提交")])])])},staticRenderFns:[]};var Ft,$t=a("VU/8")(At,Et,!1,function(t){a("lEOh"),a("0I1n")},"data-v-5e39e99a",null).exports,Lt={data:function(){return{is_goBack:!0,title:"账簿管理",token:"",account_book:[],account_now:[],show:!1,other_title:"",account_name:"",toDo:"",toDoId:"",reloads:!0}},methods:{constructor:function(){this.token=localStorage.getItem("token")},getAccountBook:function(){var t=this;this.axios.get(d.Book+this.token).then(function(e){e.data.status&&(t.account_book=e.data.data,t.getAccountBookNow())}).catch(function(t){console.log(t)})},getAccountBookNow:function(){var t=this;this.axios.get(d.BookGet+this.token).then(function(e){t.account_now=e.data.data}).catch(function(t){console.log(t)})},setAccountNow:function(t){var e=this,a={book_id:t};this.axios.post(d.BookSet+this.token,C.a.stringify(a)).then(function(t){t.data.status?(Object(R.a)(t.data.data),e.reloads=!1,e.getAccountBook(),e.reloads=!0):Object(R.a)(t.data.data)})},addAccountBook:function(){this.show=!0,this.other_title="添加新账簿",this.toDo="新建"},editAccountBook:function(t,e){this.show=!0,this.other_title="修改账簿",this.account_name=e,this.toDo="修改",this.toDoId=t},delAccountBook:function(t){var e=this;W.a.confirm({title:"提示",message:"您确定要删除吗？"}).then(function(){var a={book_id:t};e.axios.post(d.BookDel+e.token,C.a.stringify(a)).then(function(t){t.data.status?(Object(R.a)("删除成功"),e.getAccountBook()):Object(R.a)(t.data.data)})}).catch(function(t){console.log(t)})},clear_info:function(){this.other_title="",this.account_name=""},toDoAxios:function(){console.log(this.toDo),"修改"==this.toDo?this.toDoEdit():"新建"==this.toDo&&this.toDoAdd()},toDoAdd:function(){var t=this,e={name:this.account_name};this.axios.post(d.BookAdd+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("创建成功"),t.getAccountBook()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})},toDoEdit:function(){var t=this,e={book_id:this.toDoId,book_name:this.account_name};this.axios.post(d.BookEdit+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("修改成功"),t.getAccountBook()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})}},created:function(){this.constructor(),this.getAccountBook(),this.getAccountBookNow()},components:(Ft={mHeader:y},j()(Ft,Y.a.name,Y.a),j()(Ft,H.a.name,H.a),j()(Ft,q.a.name,q.a),j()(Ft,W.a.name,W.a),j()(Ft,W.a.Component.name,W.a.Component),j()(Ft,R.a.name,R.a),Ft)},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mgt"},[a("div",{staticClass:"mgt-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}})],1),t._v(" "),t.reloads?a("div",{staticClass:"mgt-info"},[a("div",{staticClass:"mgt-info-list"},t._l(t.account_book,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"account_book_info"},[a("span",[a("span",{staticClass:"account_book_name"},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"account_book_user"},[t._v("(创建者:"+t._s(e.user_name)+")")])]),t._v(" "),e.id==t.account_now.id?a("span",{staticClass:"is_now_book"},[t._v("(当前账簿)")]):t._e()]),t._v(" "),a("template",{slot:"right"},[e.id!=t.account_now.id?a("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"primary",text:"切换"},on:{click:function(a){return t.setAccountNow(e.id)}}}):t._e(),t._v(" "),a("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"warning",text:"编辑"},on:{click:function(a){return t.editAccountBook(e.id,e.name)}}}),t._v(" "),a("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.delAccountBook(e.id)}}})],1)],2)}),1)]):t._e(),t._v(" "),a("van-dialog",{attrs:{title:t.other_title,"show-cancel-button":""},on:{cancel:t.clear_info,confirm:t.toDoAxios},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"account_book_set"},[a("span",[t._v("账户名称")]),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.account_name,expression:"account_name"}],attrs:{type:"text",placeholder:"请输入账簿名称"},domProps:{value:t.account_name},on:{input:function(e){e.target.composing||(t.account_name=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"mgt-button"},[a("button",{on:{click:t.addAccountBook}},[t._v("创建新账簿")])])],1)},staticRenderFns:[]};var zt=a("VU/8")(Lt,Nt,!1,function(t){a("masr")},"data-v-16a6ffa3",null).exports,Pt={data:function(){return{title:"类别管理",is_goBack:!0}},components:{mHeader:y},methods:{},created:function(){}},Mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"type-mgt"},[e("div",{staticClass:"type-mgt-top"},[e("mHeader",{attrs:{title:this.title,is_goBack:this.is_goBack}}),this._v(" "),e("div",{staticClass:"type-mgt-header"},[e("router-link",{staticClass:"right",attrs:{to:"type_income"}},[e("span",[this._v("收入")])]),this._v(" "),e("router-link",{staticClass:"left",attrs:{to:"type_out"}},[e("span",[this._v("支出")])])],1)],1),this._v(" "),e("div",{staticClass:"type-mgt-other"},[e("keep-alive",[e("router-view")],1)],1)])},staticRenderFns:[]};var Vt=a("VU/8")(Pt,Mt,!1,function(t){a("QF6/")},"data-v-735afcfd",null).exports,qt={data:function(){return{is_goBcak:!0,title:"意见反馈",content:"",contact:""}},methods:{feed:function(){var t=this,e={content:this.content,contact:this.contact};R.a.loading({mask:!0,message:"加载中..."}),this.axios.post(d.Feed+localStorage.getItem("token"),C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("提交成功"),t.$router.push("me")):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})}},components:j()({mHeader:y},R.a.name,R.a)},Ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"feedback"},[a("div",{staticClass:"feedback-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBcak}})],1),t._v(" "),a("div",{staticClass:"feedback-center"},[a("div",{staticClass:"feedback-center-title"},[t._v("问题和建议")]),t._v(" "),a("div",{staticClass:"feedback-center-info"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"",id:"",cols:"30",rows:"6",placeholder:"请简要描述您的问题和意见\n              "},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"feedback-center-title"},[t._v("联系电话或邮箱")]),t._v(" "),a("div",{staticClass:"feedback-center-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact,expression:"contact"}],attrs:{type:"text",placeholder:"选填，便于我们与你联系"},domProps:{value:t.contact},on:{input:function(e){e.target.composing||(t.contact=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"feedback-bottom"},[a("button",{staticClass:"btn",on:{click:t.feed}},[t._v("提交意见")])])])},staticRenderFns:[]};var Yt,Wt=a("VU/8")(qt,Ht,!1,function(t){a("4jyR")},"data-v-598c64f1",null).exports,Qt={data:function(){return{is_goBack:!0,title:"好友管理",token:"",invite_list:[],show:!1,invite_tel:"",book_list:[]}},methods:{constructor:function(){var t=this;this.token=localStorage.getItem("token"),this.axios.get(d.BookGet+this.token).then(function(e){t.book_list=e.data.data,t.getfiends()}).catch(function(t){console.log(t)})},getfiends:function(){var t=this;this.axios.get(d.MemberList+this.token,{params:{book_id:this.book_list.id}}).then(function(e){e.data.status?t.invite_list=e.data.data:Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})},invite_friend:function(){this.show=!0},delfiends:function(t){var e=this;W.a.confirm({title:"提示",message:"您确定要删除吗？"}).then(function(){var a={book_id:e.book_list.id,user_id:t};e.axios.post(d.MemberDel+e.token,C.a.stringify(a)).then(function(t){t.data.status?(Object(R.a)("删除成功"),e.getfiends()):Object(R.a)(t.data.data)})}).catch(function(){})},clear_info:function(){this.invite_tel=""},toDoAxios:function(){var t=this,e={book_id:this.book_list.id,mobile:this.invite_tel};this.axios.post(d.MemberAdd+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("添加成功"),t.getfiends()):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)}),this.clear_info()}},created:function(){this.constructor()},components:(Yt={mHeader:y},j()(Yt,Y.a.name,Y.a),j()(Yt,H.a.name,H.a),j()(Yt,q.a.name,q.a),j()(Yt,W.a.name,W.a),j()(Yt,W.a.Component.name,W.a.Component),j()(Yt,R.a.name,R.a),Yt)},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invite"},[a("div",{staticClass:"invite-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}})],1),t._v(" "),a("div",{staticClass:"invite-info"},[a("div",{staticClass:"invite-info-list"},t._l(t.invite_list,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"invite_list_info"},[a("span",{staticClass:"invite_list_name"},[t._v(t._s(e.nickname))])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.delfiends(e.id)}}})],1)],2)}),1)]),t._v(" "),a("van-dialog",{attrs:{title:"邀请好友","show-cancel-button":""},on:{cancel:t.clear_info,confirm:t.toDoAxios},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"invite_list_set"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invite_tel,expression:"invite_tel"}],attrs:{type:"text",placeholder:"请输入好友电话号"},domProps:{value:t.invite_tel},on:{input:function(e){e.target.composing||(t.invite_tel=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"invite-button"},[a("button",{on:{click:t.invite_friend}},[t._v("邀请好友")])])],1)},staticRenderFns:[]};var Kt,Zt=a("VU/8")(Qt,Gt,!1,function(t){a("Uje+")},"data-v-0fafe9e5",null).exports,Jt={data:function(){return{token:"",type_list:[],show:!1,other_title:"",type_name:"",toDo:"",toDoId:""}},methods:{constructor:function(){this.token=localStorage.getItem("token")},getTypeList:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:1,dataType:1}}).then(function(e){t.type_list=e.data.data}).catch(function(t){console.log(t)})},addType:function(){this.show=!0,this.other_title="添加新类别",this.type_name="",this.toDo="新建"},editType:function(t,e){this.show=!0,this.other_title="修改账簿",this.type_name=e,this.toDo="修改",this.toDoId=t},delType:function(t){var e=this;W.a.confirm({title:"提示",message:"您确定要删除吗？"}).then(function(){e.axios.post(d.CateDel.Url1+t+d.CateDel.Url2+e.token).then(function(t){t.data.status?(Object(R.a)("删除成功"),e.getTypeList()):Object(R.a)(t.data.data)})}).catch(function(){})},clear_info:function(){this.other_title="",this.account_name=""},toDoAxios:function(){"修改"==this.toDo?this.toDoEdit():"新建"==this.toDo&&this.toDoAdd()},toDoAdd:function(){var t=this,e={parent_id:0,type:1,name:this.type_name,sort:10};this.axios.post(d.CateAdd+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("新增成功"),t.getTypeList()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})},toDoEdit:function(){var t=this,e={name:this.type_name,sort:10};this.axios.post(d.CateEdit.Url1+this.toDoId+d.CateEdit.Url2+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("修改成功"),t.getTypeList()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})}},created:function(){this.constructor(),this.getTypeList()},components:(Kt={mHeader:y},j()(Kt,Y.a.name,Y.a),j()(Kt,H.a.name,H.a),j()(Kt,q.a.name,q.a),j()(Kt,W.a.name,W.a),j()(Kt,W.a.Component.name,W.a.Component),j()(Kt,R.a.name,R.a),Kt)},Xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type-info"},[a("div",{staticClass:"type-info-list"},t._l(t.type_list,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"type_list_info"},[a("span",[a("span",{staticClass:"type_list_name"},[t._v(t._s(e.name))])])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"warning",text:"编辑"},on:{click:function(a){return t.editType(e.id,e.name)}}}),t._v(" "),a("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.delType(e.id)}}})],1)],2)}),1),t._v(" "),a("van-dialog",{attrs:{title:t.other_title,"show-cancel-button":""},on:{cancel:t.clear_info,confirm:t.toDoAxios},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"type_list_set"},[a("span",[t._v("类别名称")]),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type_name,expression:"type_name"}],attrs:{type:"text",placeholder:"请输入类别名称"},domProps:{value:t.type_name},on:{input:function(e){e.target.composing||(t.type_name=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"type-button"},[a("button",{on:{click:t.addType}},[t._v("添加类别")])])],1)},staticRenderFns:[]};var te,ee=a("VU/8")(Jt,Xt,!1,function(t){a("pEFy")},"data-v-1be58227",null).exports,ae={data:function(){return{token:"",type_list:[],show:!1,other_title:"",type_name:"",toDo:"",toDoId:""}},methods:{constructor:function(){this.token=localStorage.getItem("token")},getTypeList:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:2,dataType:1}}).then(function(e){t.type_list=e.data.data}).catch(function(t){console.log(t)})},addType:function(){this.show=!0,this.other_title="添加新类别",this.type_name="",this.toDo="新建"},editType:function(t,e){this.show=!0,this.other_title="修改账簿",this.type_name=e,this.toDo="修改",this.toDoId=t},delType:function(t){var e=this;W.a.confirm({title:"提示",message:"您确定要删除吗？"}).then(function(){e.axios.post(d.CateDel.Url1+t+d.CateDel.Url2+e.token).then(function(t){t.data.status?(Object(R.a)("删除成功"),e.getTypeList()):Object(R.a)(t.data.data)})}).catch(function(){})},clear_info:function(){this.other_title="",this.account_name=""},toDoAxios:function(){"修改"==this.toDo?this.toDoEdit():"新建"==this.toDo&&this.toDoAdd()},toDoAdd:function(){var t=this,e={parent_id:0,type:2,name:this.type_name,sort:10};this.axios.post(d.CateAdd+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("新增成功"),t.getTypeList()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})},toDoEdit:function(){var t=this,e={name:this.type_name,sort:10};this.axios.post(d.CateEdit.Url1+this.toDoId+d.CateEdit.Url1+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("修改成功"),t.getTypeList()):Object(R.a)(e.data.data),t.clear_info()}).catch(function(t){console.log(t)})}},created:function(){this.constructor(),this.getTypeList()},components:(te={mHeader:y},j()(te,Y.a.name,Y.a),j()(te,H.a.name,H.a),j()(te,q.a.name,q.a),j()(te,W.a.name,W.a),j()(te,W.a.Component.name,W.a.Component),j()(te,R.a.name,R.a),te)},ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type-out"},[a("div",{staticClass:"type-out-list"},t._l(t.type_list,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"type_list_info"},[a("span",[a("span",{staticClass:"type_list_name"},[t._v(t._s(e.name))])])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"warning",text:"编辑"},on:{click:function(a){return t.editType(e.id,e.name)}}}),t._v(" "),a("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.delType(e.id)}}})],1)],2)}),1),t._v(" "),a("van-dialog",{attrs:{title:t.other_title,"show-cancel-button":""},on:{cancel:t.clear_info,confirm:t.toDoAxios},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"type_list_set"},[a("span",[t._v("类别名称")]),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type_name,expression:"type_name"}],attrs:{type:"text",placeholder:"请输入类别名称"},domProps:{value:t.type_name},on:{input:function(e){e.target.composing||(t.type_name=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"type-button"},[a("button",{on:{click:t.addType}},[t._v("添加类别")])])],1)},staticRenderFns:[]};var se,ne=a("VU/8")(ae,ie,!1,function(t){a("ue+b")},"data-v-2fc047f0",null).exports,oe=a("BO1k"),ce=a.n(oe),re=(a("6RK7"),a("6SDJ")),le={data:function(){return{currentDate:new Date,detail_type:"",transaction_type:"",title:"",is_goBack:!0,token:"",id:"",detail_info:{},detail_images:"",show:!1,other_page:!1,other_select:!1,other_calendar:!1,other_title:"",other_info:"",other_list:"",other_type:"",other_money:"",other_date:"",fileList:[],accountInfo:[],account_id:"",image_keys:"",radios:0}},components:(se={mHeader:y},j()(se,W.a.Component.name,W.a.Component),j()(se,R.a.name,R.a),j()(se,re.a.name,re.a),j()(se,lt.a.name,lt.a),j()(se,ut.a.name,ut.a),j()(se,P.a.name,P.a),j()(se,M.a.name,M.a),j()(se,q.a.name,q.a),j()(se,V.a.name,V.a),j()(se,dt.a.name,dt.a),se),methods:{constructor:function(){this.token=localStorage.getItem("token"),this.detail_type=1==localStorage.getItem("detail_type")?"收入":"支出",this.transaction_type=1==localStorage.getItem("detail_type")?"收款":"付款",this.title=this.detail_type+"详情",this.id=localStorage.getItem("detail_id");var t=this.currentDate.getFullYear(),e=this.currentDate.getMonth()+1;e=e<10?"0"+e:e;var a=this.currentDate.getDate();a=a<10?"0"+a:a,this.other_date=t+"-"+e+"-"+a,this.getDetail()},getDetail:function(){var t=this;this.axios.get(d.RecDetail.Url1+this.id+d.RecDetail.Url2+this.token).then(function(e){t.detail_info=e.data.data,t.detail_images=t.detail_info.items[0]})},getAccount:function(){var t=this;this.axios.get(d.Account+localStorage.getItem("token")).then(function(e){t.accountInfo=e.data.data}).catch(function(t){console.log(t)})},openShow:function(t){"账面"==t?(this.other_title=t+this.detail_type,this.other_info=this.detail_info.total_money):"对象"==t?(this.other_title="交易对象",this.other_info=this.detail_info.company_name):"备注"==t?(this.other_title="备注",this.other_info=this.detail_info.remark):(this.other_title=this.transaction_type+"金额",this.other_list=t,this.other_info=this.detail_info.items[t].money),this.other_edit=t,this.show=!0},openEdit:function(t,e){if(1==e)this.other_title=this.transaction_type+"账户",this.other_info=this.detail_info.items[t].account_name;else if(2==e){this.other_title=this.transaction_type+"凭证",this.other_info=this.detail_info.items[t].images;var a=!0,i=!1,s=void 0;try{for(var n,o=ce()(this.other_info);!(a=(n=o.next()).done);a=!0){var c=n.value;this.fileList.push({url:c.thumbnail})}}catch(t){i=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}}else 3==e&&(this.other_title=this.transaction_type+"日期",this.other_info=this.detail_info.items[t].date);this.other_list=t,this.other_type=e,this.other_page=!0},openDate:function(){this.other_calendar=!0},close_other_page:function(){this.other_page=!1,this.other_info="",this.other_title="",this.other_list="",this.other_type="",this.fileList=[],this.image_keys="",this.other_money="",this.getDetail()},close_other_calendar:function(){this.other_calendar=!1},openSelect:function(){1==this.other_type||4==this.other_type?this.other_select=!0:3==this.other_type&&(this.other_calendar=!0)},openFollowUp:function(){this.other_title="后续"+this.transaction_type,this.other_type=4,this.other_info=this.accountInfo[0].name,this.account_id=this.accountInfo[0].id,this.other_page=!0},editAccount:function(){var t=this;if(console.log(this.other_title),this.other_title=="账面"+this.detail_type){if(this.other_info>99999999)return void Object(R.a)("输入的金额过大");var e={total_money:this.other_info}}else if("交易对象"==this.other_title)e={company_name:this.other_info};else{if("备注"!=this.other_title)return void this.editDetail();e={remark:this.other_info}}this.axios.post(d.RecEdit.Url1+this.id+d.RecEdit.Url2+this.token,C.a.stringify(e)).then(function(e){console.log(e),e.data.status?(Object(R.a)("修改成功"),t.getDetail(),t.show=!1):Object(R.a)(e.data.data)}).catch(function(t){Object(R.a)("填写数据有误")})},editDetail:function(){var t=this;if(R.a.loading({mask:!0,message:"加载中..."}),this.other_title==this.transaction_type+"金额")var e={money:this.other_info};else if(this.other_title==this.transaction_type+"凭证")e={image_keys:this.image_keys};else if(this.other_title==this.transaction_type+"账户")e={account_id:this.account_id};else{if(this.other_title!=this.transaction_type+"日期")return void this.Followup();e={date:this.other_info}}var a=this.detail_info.items[this.other_list].id;this.axios.post(d.RecItemEdit.Url1+a+d.RecItemEdit.Url2+this.token,C.a.stringify(e)).then(function(e){e.data.status?(t.getDetail(),2==t.other_type?(Object(R.a)("图片上传成功"),t.image_keys=""):t.close_other_page()):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})},upload:function(t){var e=this;R.a.loading({mask:!0,message:"加载中..."});var a=new FormData;a.append("file",t.file);this.axios.post(d.UploadImg+this.token,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data.data.status&&(4!=e.other_type?(e.image_keys=t.data.data.file.fileKey,e.editDetail()):e.image_keys+=t.data.data.file.fileKey)}).catch(function(t){console.log(t)})},getDateTime:function(t){var e=this.currentDate.getFullYear(),a=this.currentDate.getMonth()+1;a=a<10?"0"+a:a;var i=this.currentDate.getDate();i=i<10?"0"+i:i,4==this.other_type?this.other_date=e+"-"+a+"-"+i:this.other_info=e+"-"+a+"-"+i,this.other_calendar=!1},accountChange:function(t){-1==t?this.account="请选择":(this.other_info=this.accountInfo[t].name,this.account_id=this.accountInfo[t].id,this.radios=t),this.other_select=!1},Followup:function(){var t=this;R.a.loading({mask:!0,message:"加载中..."});var e={record_id:this.id,money:this.other_money,image_keys:this.image_keys,account_id:this.account_id,date:this.other_date};this.axios.post(d.Sequel+this.token,C.a.stringify(e)).then(function(e){e.data.status?(Object(R.a)("记账成功"),t.close_other_page()):Object(R.a)(e.data.data)}).catch(function(t){console.log(t)})}},created:function(){this.constructor(),this.getAccount()}},de={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("div",{staticClass:"detail-top"},[a("mHeader",{attrs:{title:t.title,is_goBack:t.is_goBack}})],1),t._v(" "),a("div",{staticClass:"detail-main detail-main-top"},[a("div",{staticClass:"detail-main-info",on:{click:function(e){return t.openShow("账面")}}},[a("span",{staticClass:"detail-main-info-title"},[t._v("账面"+t._s(t.detail_type))]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[a("span",{staticClass:"detail-main-info-content",class:"收入"==t.detail_type?"green":"red"},[t._v(t._s(t.detail_info.total_money))]),t._v(" "),a("span",{staticClass:"detail-main-info-icon iconfont"},[t._v("")])])]),t._v(" "),a("div",{staticClass:"detail-main-info",on:{click:function(e){return t.openShow("对象")}}},[a("span",{staticClass:"detail-main-info-title"},[t._v("交易对象")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[a("span",{staticClass:"detail-main-info-content"},[t._v(t._s(t.detail_info.company_name))]),t._v(" "),a("span",{staticClass:"detail-main-info-icon iconfont"},[t._v("")])])]),t._v(" "),a("div",{staticClass:"detail-main-info"},[a("span",{staticClass:"detail-main-info-title"},[t._v(t._s(t.transaction_type)+"方式")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[a("span",{staticClass:"detail-main-info-content"},[t._v(t._s(t.detail_info.total_money==t.detail_info.paid_money?"全额":"分期")+"付款")])])]),t._v(" "),a("div",{staticClass:"detail-main-info"},[a("span",{staticClass:"detail-main-info-title"},[t._v("支出类别")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[a("span",{staticClass:"detail-main-info-content"},[t._v(t._s(t.detail_info.category_name))])])]),t._v(" "),a("div",{staticClass:"detail-main-info"},[a("span",{staticClass:"detail-main-info-title"},[t._v("结清状态")]),t._v(" "),a("span",{staticClass:"detail-main-info-right",class:"收入"==t.detail_type?"green":"red"},[t._v(t._s(t.detail_info.total_money-t.detail_info.paid_money==0?"已结清":"未结清("+(t.detail_info.total_money-t.detail_info.paid_money)+")"))])]),t._v(" "),t.detail_info.total_money==t.detail_info.paid_money?a("div",{staticClass:"detail-main-info",on:{click:function(e){return t.openEdit(0,2)}}},[a("span",{staticClass:"detail-main-info-title"},[t._v(t._s(t.transaction_type)+"凭证")]),t._v(" "),a("div",{staticClass:"detail-main-info-right detail-main-imgs"},t._l(t.detail_images.images,function(t,e){return a("span",{key:e},[a("van-image",{attrs:{width:"80",height:"80",src:t.thumbnail}})],1)}),0),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])]):t._e()]),t._v(" "),t.detail_info.total_money!=t.detail_info.paid_money?a("div",{staticClass:"detail-center"},t._l(t.detail_info.items,function(e,i){return a("div",{key:i,staticClass:"detail-record"},[a("div",{staticClass:"detail-transition"},[t._v("第"+t._s(i+1)+"笔"+t._s(t.transaction_type))]),t._v(" "),a("div",{staticClass:"detail-main-info",on:{click:function(e){return t.openShow(i)}}},[a("span",{staticClass:"detail-main-info-title"},[t._v(t._s(t.transaction_type)+"金额")]),t._v(" "),a("span",{staticClass:"detail-main-info-right",class:"收入"==t.detail_type?"green":"red"},[t._v(t._s(e.money))])]),t._v(" "),a("div",{staticClass:"detail-main-info",on:{click:function(e){return t.openEdit(i,1)}}},[a("span",{staticClass:"detail-main-info-title"},[t._v(t._s(t.transaction_type)+"账户")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[t._v(t._s(e.account_name))])]),t._v(" "),a("div",{staticClass:"detail-main-info",on:{click:function(e){return t.openEdit(i,2)}}},[a("span",{staticClass:"detail-main-info-title"},[t._v(t._s(t.transaction_type)+"凭证")]),t._v(" "),a("div",{staticClass:"detail-main-info-right detail-main-imgs"},t._l(t.detail_info.items[i].images,function(t,e){return a("span",{key:e},[a("van-image",{attrs:{width:"80",height:"80",src:t.thumbnail}})],1)}),0),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])]),t._v(" "),a("div",{staticClass:"detail-main-info",on:{click:function(e){return t.openEdit(i,3)}}},[a("span",{staticClass:"detail-main-info-title"},[t._v(t._s(t.transaction_type)+"日期")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[t._v(t._s(e.date))])])])}),0):t._e(),t._v(" "),a("div",{staticClass:"detail-main detail-bottom"},[a("div",{staticClass:"detail-transition"},[t._v("备注")]),t._v(" "),a("div",{staticClass:"detail-main-info remarks",on:{click:function(e){return t.openShow("备注")}}},[a("span",{staticClass:"remarks-info"},[t._v(t._s(t.detail_info.remark?t.detail_info.remark:"暂无备注"))]),t._v(" "),a("span")]),t._v(" "),a("div",{staticClass:"detail-transition"}),t._v(" "),a("div",{staticClass:"detail-main-info"},[a("span",{staticClass:"detail-main-info-title"},[t._v("记账人")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[t._v(t._s(t.detail_info.user_nickname))])]),t._v(" "),a("div",{staticClass:"detail-main-info"},[a("span",{staticClass:"detail-main-info-title"},[t._v("记账日期")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[t._v(t._s(t.detail_info.created_at))])]),t._v(" "),a("div",{staticClass:"detail-main-info"},[a("span",{staticClass:"detail-main-info-title"},[t._v("更新日期")]),t._v(" "),a("span",{staticClass:"detail-main-info-right"},[t._v(t._s(t.detail_info.updated_at))])])]),t._v(" "),t.detail_info.total_money!=t.detail_info.paid_money?a("div",{staticClass:"detail-button"},[a("button",{on:{click:t.openFollowUp}},[t._v("后续付款")])]):t._e(),t._v(" "),a("van-dialog",{attrs:{title:t.other_title,"show-cancel-button":""},on:{confirm:t.editAccount},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"detail_edit"},[a("span",[t._v(t._s(t.other_title))]),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.other_info,expression:"other_info"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.other_info},on:{input:function(e){e.target.composing||(t.other_info=e.target.value)}}})])])]),t._v(" "),t.other_page?a("div",{staticClass:"detailed-edit"},[a("div",{staticClass:"detailed-edit-top"},[a("span",{staticClass:"iconfont",on:{click:t.close_other_page}},[t._v("")]),t._v(" "),a("div",[t._v(t._s(t.other_title))])]),t._v(" "),a("div",{staticClass:"detailed-edit-center"},[4!=t.other_type?a("div",{staticClass:"detailed-edit-center-list"},[a("span",{staticClass:"detailed-edit-center-title"},[t._v(t._s(t.other_title))]),t._v(" "),1==t.other_type||3==t.other_type?a("div",{staticClass:"detailed-edit-center-info",on:{click:t.openSelect}},[t._v(t._s(t.other_info))]):t._e(),t._v(" "),2==t.other_type?a("div",{staticClass:"detailed-edit-center-info"},[a("span",[a("van-uploader",{attrs:{multiple:"","after-read":t.upload},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1)]):t._e()]):t._e(),t._v(" "),4==t.other_type?a("div",{staticClass:"detailed-edit-center-list"},[a("span",{staticClass:"detailed-edit-center-title"},[t._v("金额")]),t._v(" "),a("div",{staticClass:"detailed-edit-center-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.other_money,expression:"other_money"}],attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.other_money},on:{input:function(e){e.target.composing||(t.other_money=e.target.value)}}})])]):t._e(),t._v(" "),4==t.other_type?a("div",{staticClass:"detailed-edit-center-list"},[a("span",{staticClass:"detailed-edit-center-title"},[t._v("账户")]),t._v(" "),a("div",{staticClass:"detailed-edit-center-info",on:{click:t.openSelect}},[t._v(t._s(t.other_info))])]):t._e(),t._v(" "),4==t.other_type?a("div",{staticClass:"detailed-edit-center-list"},[a("span",{staticClass:"detailed-edit-center-title"},[t._v("凭证")]),t._v(" "),a("div",{staticClass:"detailed-edit-center-info"},[a("span",[a("van-uploader",{attrs:{multiple:"","after-read":t.upload},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1)])]):t._e(),t._v(" "),4==t.other_type?a("div",{staticClass:"detailed-edit-center-list"},[a("span",{staticClass:"detailed-edit-center-title"},[t._v("日期")]),t._v(" "),a("div",{staticClass:"detailed-edit-center-info",on:{click:t.openDate}},[t._v(t._s(t.other_date))])]):t._e()]),t._v(" "),2!=t.other_type?a("div",{staticClass:"detailed-edit-button"},[a("button",{on:{click:t.editDetail}},[t._v("保存")])]):t._e(),t._v(" "),a("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.other_calendar,callback:function(e){t.other_calendar=e},expression:"other_calendar"}},[a("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.getDateTime,cancel:t.close_other_calendar},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),t._v(" "),a("van-popup",{style:{width:"90%"},model:{value:t.other_select,callback:function(e){t.other_select=e},expression:"other_select"}},[a("van-radio-group",{on:{change:t.accountChange},model:{value:t.radios,callback:function(e){t.radios=e},expression:"radios"}},[a("van-cell-group",t._l(t.accountInfo,function(e,i){return a("van-cell",{key:i,attrs:{title:e.name,clickable:""},on:{click:function(e){t.radios=i}}},[a("van-radio",{attrs:{slot:"right-icon",name:i},slot:"right-icon"})],1)}),1)],1)],1)],1):t._e()],1)},staticRenderFns:[]};var ue,he=a("VU/8")(le,de,!1,function(t){a("5AO2"),a("8G8L")},"data-v-68386a81",null).exports,_e={data:function(){return{currentDate:new Date,dateTime:new Date,token:"",list:{},lists:[],type:{},title:"账面收支明细",is_goBack:!0,is_select:!0,start_date:"",end_date:"",date_name:"当月",budget_type:"3",category:"",changeDateType:"m",show:!1,show1:!1,show2:!1,screen:!1,screen_start:"",screen_end:"",screen_budget:"3",screen_type:"",radio:"3",radios:"",incomeType:{},outType:{},timeType:"",isLoading:!1,loading:!1,finished:!1,page:1,num:0,loop:0}},components:(ue={mHeader:y},j()(ue,Y.a.name,Y.a),j()(ue,q.a.name,q.a),j()(ue,V.a.name,V.a),j()(ue,H.a.name,H.a),j()(ue,W.a.Component.name,W.a.Component),j()(ue,R.a.name,R.a),j()(ue,ut.a.name,ut.a),j()(ue,M.a.name,M.a),j()(ue,P.a.name,P.a),j()(ue,dt.a.name,dt.a),j()(ue,A.a.name,A.a),j()(ue,J.a.name,J.a),ue),methods:{constructor:function(){this.token=localStorage.getItem("token"),this.changeToMonth()},getDetailed:function(){var t=this;this.axios.get(d.Record+localStorage.getItem("token"),{params:{begin_date:this.start_date,end_date:this.end_date,type:Number(this.budget_type),category_id:""==this.category?"":2==this.budget_type?this.outType[this.category].id:this.incomeType[this.category].id,excel:0,page:this.page}}).then(function(e){t.list=e.data.data,t.page+=1,t.loop=0,t.num=e.data.data.list.length,t.finished=!1,t.loading&&t.onLoad()}).catch(function(t){console.log(t)})},getTypeIncome:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:1,dataType:1}}).then(function(e){t.incomeType=e.data.data}).catch(function(t){console.log(t)})},getTypeOut:function(){var t=this;this.axios.get(d.Cate+localStorage.getItem("token"),{params:{type:2,dataType:1}}).then(function(e){t.outType=e.data.data})},del:function(t){var e=this;W.a.confirm({title:"删除",message:"确认删除该条数据嘛？"}).then(function(){e.axios.post(d.Del.Url1+t+d.Del.Url2+localStorage.getItem("token")).then(function(t){t.data.status&&(Object(R.a)("删除成功"),e.page=1,e.lists=[],e.num=0,e.loading=!0,e.getDetailed())})}).catch(function(){})},changeDate:function(t){this.changeDateType=t,"m"==t?this.changeToMonth():"q"==t?this.changeToQuarter():"y"==t?this.changeToYear():(this.page=1,this.lists=[],this.num=0,this.loading=!0,this.getDetailed())},changeToMonth:function(){var t=this.dateTime.getFullYear(),e=(this.dateTime.getMonth()+1).toString().padStart(2,0),a=new Date(t,e,0).getDate().toString().padStart(2,0);this.screen_start=this.start_date=t+"-"+e+"-01",this.screen_end=this.end_date=t+"-"+e+"-"+a,this.date_name="当月",this.page=1,this.lists=[],this.num=0,this.loading=!0,this.getDetailed()},changeToYear:function(){var t=this.dateTime.getFullYear();this.screen_start=this.start_date=t+"-01-01",this.screen_end=this.end_date=t+"-12-31",this.date_name="今年",this.page=1,this.lists=[],this.num=0,this.loading=!0,this.getDetailed()},changeToQuarter:function(){var t=this.dateTime.getFullYear(),e=this.dateTime.getMonth()+1,a=this.getQuarterStartMonth(e);if(0!=a){var i=new Date(t,a+2,0);this.screen_start=this.start_date=t+"-"+a.toString().padStart(2,0)+"-01",this.screen_end=this.end_date=t+"-"+(a+2).toString().padStart(2,0)+"-"+i.getDate(),this.date_name="本季度",this.page=1,this.lists=[],this.num=0,this.loading=!0,this.getDetailed()}},goToRouter:function(t,e){localStorage.setItem("detail_type",t),localStorage.setItem("detail_id",e),this.$router.push("/account-detail")},getQuarterStartMonth:function(t){var e=0;return t<4&&(e=1),3<t&&t<7&&(e=4),6<t&&t<10&&(e=7),t>9&&(e=10),e},openScreen:function(){this.screen=!0},closeScreen:function(){this.screen=!1},screened:function(){this.start_date=this.screen_start,this.end_date=this.screen_end,this.budget_type=this.screen_budget,this.category=this.screen_type,this.changeDateType="s",this.closeScreen(),this.page=1,this.lists=[],this.num=0,this.loading=!0,this.getDetailed()},budgetChange:function(t){3==t&&(this.screen_type=""),this.screen_budget=t,this.show1=!1},typeChange:function(t){this.screen_type=t,this.show2=!1},getDateTime:function(t){var e=this.currentDate.getFullYear(),a=this.currentDate.getMonth()+1;a=a<10?"0"+a:a;var i=this.currentDate.getDate();i=i<10?"0"+i:i,1==this.timeType?this.screen_start=e+"-"+a+"-"+i:2==this.timeType&&(this.screen_end=e+"-"+a+"-"+i),this.show=!1},showPopup:function(t){this.timeType=t,this.show=!0},showPopup1:function(){this.show1=!0},showPopup2:function(){this.show2=!0},closeShow:function(){this.show=!1},closeShow1:function(){this.show1=!1},closeShow2:function(){this.show2=!1},onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.reLoad()},500)},reLoad:function(){this.page=1,this.num=0,this.lists=[],this.loading=!0,this.getDetailed()},onLoad:function(){var t=this;setTimeout(function(){for(var e=0;e<5;e++){if(!t.list.list[t.loop])return t.loading=!1,void(t.finished=!0);t.lists.push(t.list.list[t.loop]),t.loop++}t.loading=!1,t.lists.length>=20*(t.page-2)+t.num&&(20==t.num?(t.num=0,t.loop=0,t.getDetailed()):(t.finished=!0,t.loop=0))},500)}},created:function(){this.constructor(),this.getTypeIncome(),this.getTypeOut()}},me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detailed"},[a("div",{staticClass:"detailed-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack,is_select:t.is_select}}),t._v(" "),a("div",{staticClass:"detailed-main-top"},[a("div",{staticClass:"detailed-left"},[a("span",{staticClass:"detailed-datetime small-font"},[t._v("账面收入")]),t._v(" "),a("p",{staticClass:"detailed-datetime"},[a("span",[t._v(t._s(Number(t.list.in).toFixed(2)))])])]),t._v(" "),a("div",{staticClass:"detailed-center"},[a("span",{staticClass:"detailed-datetime small-font"},[t._v("账面支出")]),t._v(" "),a("p",{staticClass:"detailed-datetime"},[a("span",{staticClass:"red"},[t._v(t._s(Number(t.list.out).toFixed(2)))])])]),t._v(" "),a("div",{staticClass:"detailed-right"},[a("span",{staticClass:"detailed-datetime small-font"},[t._v("账面利润")]),t._v(" "),a("p",{staticClass:"detailed-datetime"},[a("span",{staticClass:"orange"},[t._v(t._s(Number(t.list.in-t.list.out).toFixed(2)))])])])]),t._v(" "),a("div",{staticClass:"detailed_top_select"},[a("a",{class:{selected:"m"==t.changeDateType},on:{click:function(e){return t.changeDate("m")}}},[t._v("当月收支")]),t._v(" "),a("a",{class:{selected:"q"==t.changeDateType},on:{click:function(e){return t.changeDate("q")}}},[t._v("季度收支")]),t._v(" "),a("a",{class:{selected:"y"==t.changeDateType},on:{click:function(e){return t.changeDate("y")}}},[t._v("年度收支")])]),t._v(" "),a("div",{staticClass:"transition"},[t._v("\n      "+t._s(t.date_name)+":\n      "),a("span",{staticClass:"green"},[t._v(t._s(t.start_date))]),t._v(" -\n      "),a("span",{staticClass:"green"},[t._v(t._s(t.end_date))])]),t._v(" "),a("div",{staticClass:"screenButton",on:{click:t.openScreen}})],1),t._v(" "),a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.lists,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"detailed-list",on:{click:function(a){return t.goToRouter(e.type,e.id)}}},[a("div",{staticClass:"detailed-list-left"},[(t.red=2==e.type)?a("span"):t._e(),t._v(" "),a("span",{staticClass:"detailed-list-left-iconfont iconfont",class:{red:t.red}},[t._v("")]),t._v(" "),a("div",{staticClass:"detailed-list-left-title"},[a("div",{staticClass:"detailed-list-left-info"},[a("span",[t._v(t._s(e.company_name))])]),t._v(" "),e.total_money-e.paid_money?a("span",{staticClass:"detailed-list-left-info wait-budget",class:{red:t.red,green:!t.red}},[a("span",[t._v("待"+t._s(t.red?"付款:":"收款:"))]),t._v(" "),a("span",[t._v(t._s(e.total_money-e.paid_money))])]):t._e(),t._v(" "),a("div",{staticClass:"detailed-list-left-info"},[t._v(t._s(e.date))])])]),t._v(" "),a("div",{staticClass:"detailed-list-right-money"},[a("span",[t._v(t._s(e.total_money))]),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.del(e.id)}}})],1)],2)}),1)],1),t._v(" "),""==t.list?a("div",{staticClass:"none"},[t._v("--暂无数据--")]):t._e(),t._v(" "),t.screen?a("div",{staticClass:"detailed-screen"},[a("div",{staticClass:"detailed-screen-top"},[a("span",{staticClass:"iconfont",on:{click:t.closeScreen}},[t._v("")]),t._v(" "),a("div",[t._v("账面收支筛选")])]),t._v(" "),a("div",{staticClass:"detailed-screen-list",on:{click:function(e){return t.showPopup(1)}}},[a("span",[t._v("开始日期")]),t._v(" "),a("span",[t._v(t._s(t.screen_start))])]),t._v(" "),a("div",{staticClass:"detailed-screen-list",on:{click:function(e){return t.showPopup(2)}}},[a("span",[t._v("结束日期")]),t._v(" "),a("span",[t._v(t._s(t.screen_end))])]),t._v(" "),a("div",{staticClass:"detailed-screen-list",on:{click:t.showPopup1}},[a("span",[t._v("收入支出")]),t._v(" "),a("span",[t._v(t._s(3==t.screen_budget?"不限":2==t.screen_budget?"支出":"收入"))])]),t._v(" "),a("div",{staticClass:"detailed-screen-list",on:{click:t.showPopup2}},[a("span",[t._v("收支类别")]),t._v(" "),a("span",[t._v(t._s(""==t.screen_type?"不限":2==t.screen_budget?t.outType[t.screen_type].name:t.incomeType[t.screen_type].name))])]),t._v(" "),a("div",{staticClass:"detailed-screen-button"},[a("button",{on:{click:t.screened}},[t._v("筛选")])]),t._v(" "),a("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.getDateTime,cancel:t.closeShow},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),t._v(" "),a("van-popup",{style:{width:"90%"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[a("van-radio-group",{on:{change:t.budgetChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"不限",clickable:""},on:{click:function(e){t.radio="3"}}},[a("van-radio",{attrs:{slot:"right-icon",name:"3"},slot:"right-icon"})],1),t._v(" "),a("van-cell",{attrs:{title:"收入",clickable:""},on:{click:function(e){t.radio="1"}}},[a("van-radio",{attrs:{slot:"right-icon",name:"1"},slot:"right-icon"})],1),t._v(" "),a("van-cell",{attrs:{title:"支出",clickable:""},on:{click:function(e){t.radio="2"}}},[a("van-radio",{attrs:{slot:"right-icon",name:"2"},slot:"right-icon"})],1)],1)],1)],1),t._v(" "),a("van-popup",{style:{width:"90%"},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[a("van-radio-group",{on:{change:t.typeChange},model:{value:t.radios,callback:function(e){t.radios=e},expression:"radios"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"不限",clickable:""},on:{click:function(e){t.radios=""}}},[a("van-radio",{attrs:{slot:"right-icon",name:""},slot:"right-icon"})],1),t._v(" "),t._l(3==t.screen_budget?"":2==t.screen_budget?t.outType:t.incomeType,function(e,i){return a("van-cell",{key:i,attrs:{title:e.name,clickable:""},on:{click:function(e){t.radios=i}}},[a("van-radio",{attrs:{slot:"right-icon",name:i},slot:"right-icon"})],1)})],2)],1)],1)],1):t._e()],1)},staticRenderFns:[]};var pe,ve=a("VU/8")(_e,me,!1,function(t){a("QSKm")},"data-v-271a56cb",null).exports,fe={data:function(){return{currentDate:new Date,token:"",list:{},title:"账面收支明细",is_goBack:!0,start_date:"",end_date:"",date_name:"当月",changeDateType:"m",screen_start:"",screen_end:"",timeType:""}},components:(pe={mHeader:y},j()(pe,Y.a.name,Y.a),j()(pe,q.a.name,q.a),j()(pe,V.a.name,V.a),j()(pe,H.a.name,H.a),j()(pe,W.a.Component.name,W.a.Component),j()(pe,dt.a.name,dt.a),pe),methods:{constructor:function(){this.token=localStorage.getItem("token"),this.changeToMonth()},getWaitIncome:function(){var t=this;console.log(this.start_date),this.axios.get(d.WaitRP+this.token,{params:{begin_date:this.start_date,end_date:this.end_date,type:1}}).then(function(e){console.log(e),t.list=e.data.data}).catch(function(t){console.log(t)})},del:function(t){var e=this;W.a.confirm({title:"删除",message:"确认删除该条数据嘛？"}).then(function(){e.axios.post(d.Del.Url1+t+d.Del.Url2+localStorage.getItem("token")).then(function(t){t.data.status&&(Object(R.a)("删除成功"),e.getWaitIncome())})}).catch(function(){})},changeDate:function(t){this.changeDateType=t,"m"==t?this.changeToMonth():"q"==t?this.changeToQuarter():"y"==t?this.changeToYear():this.getWaitIncome()},changeToMonth:function(){var t=this.currentDate.getFullYear(),e=(this.currentDate.getMonth()+1).toString().padStart(2,0),a=new Date(t,e,0).getDate().toString().padStart(2,0);this.screen_start=this.start_date=t+"-"+e+"-01",this.screen_end=this.end_date=t+"-"+e+"-"+a,this.date_name="当月",console.log(this.screen_start,this.start_date),this.getWaitIncome()},changeToYear:function(){var t=this.currentDate.getFullYear();this.screen_start=this.start_date=t+"-01-01",this.screen_end=this.end_date=t+"-12-31",this.date_name="今年",this.getWaitIncome()},changeToQuarter:function(){var t=this.currentDate.getFullYear(),e=this.currentDate.getMonth()+1,a=this.getQuarterStartMonth(e);if(0!=a){var i=new Date(t,a+2,0);this.screen_start=this.start_date=t+"-"+a.toString().padStart(2,0)+"-01",this.screen_end=this.end_date=t+"-"+(a+2).toString().padStart(2,0)+"-"+i.getDate(),this.date_name="本季度",this.getWaitIncome()}},goToRouter:function(t,e){localStorage.setItem("detail_type",t),localStorage.setItem("detail_id",e),this.$router.push("/account-detail")},getQuarterStartMonth:function(t){var e=0;return t<4&&(e=1),3<t&&t<7&&(e=4),6<t&&t<10&&(e=7),t>9&&(e=10),e},getDateTime:function(t){var e=this.currentDate.getFullYear(),a=this.currentDate.getMonth()+1;a=a<10?"0"+a:a;var i=this.currentDate.getDate();i=i<10?"0"+i:i,1==this.timeType?this.screen_start=e+"-"+a+"-"+i:2==this.timeType&&(this.screen_end=e+"-"+a+"-"+i),this.show=!1}},created:function(){this.constructor()}},ge={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wait-budget"},[a("div",{staticClass:"wait-budget-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}}),t._v(" "),a("div",{staticClass:"m-wait-budget-main-top wait-budget_top_select"},[a("a",{class:{selected:"m"==t.changeDateType},on:{click:function(e){return t.changeDate("m")}}},[t._v("当月待收")]),t._v(" "),a("a",{class:{selected:"q"==t.changeDateType},on:{click:function(e){return t.changeDate("q")}}},[t._v("季度待收")]),t._v(" "),a("a",{class:{selected:"y"==t.changeDateType},on:{click:function(e){return t.changeDate("y")}}},[t._v("年度待收")])]),t._v(" "),a("div",{staticClass:"transition"},[a("div",{staticClass:"transition-left"},[t._v("\n        "+t._s(t.date_name)+":\n        "),a("br"),t._v(" "),a("span",{staticClass:"green"},[t._v(t._s(t.start_date))]),t._v(" -\n        "),a("span",{staticClass:"green"},[t._v(t._s(t.end_date))])]),t._v(" "),a("div",{staticClass:"transition-right"},[t._v("\n        总待收金额:\n        "),a("br"),t._v(" "),a("span",{staticClass:"orange"},[t._v(t._s(parseFloat(t.list.total).toFixed(2)))])])])],1),t._v(" "),t._l(t.list.list,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"wait-budget-list",on:{click:function(a){return t.goToRouter(e.type,e.id)}}},[a("div",{staticClass:"wait-budget-list-left"},[(t.red=2==e.type)?a("span"):t._e(),t._v(" "),a("span",{staticClass:"wait-budget-list-left-iconfont iconfont",class:{red:t.red}},[t._v("")]),t._v(" "),a("div",{staticClass:"wait-budget-list-left-title"},[a("div",{staticClass:"wait-budget-list-left-info"},[a("span",[t._v(t._s(e.company_name))])]),t._v(" "),e.total_money-e.paid_money?a("div",{staticClass:"wait-budget-list-left-info wait-budget-list-main",class:{red:t.red,green:!t.red}},[a("span",[t._v("待收款:")]),t._v(" "),a("span",[t._v(t._s(e.total_money-e.paid_money))])]):t._e(),t._v(" "),a("div",{staticClass:"wait-budget-list-left-info"},[t._v(t._s(e.date))])])]),t._v(" "),a("div",{staticClass:"wait-budget-list-right-money"},[a("span",[t._v(t._s(e.total_money))]),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.del(e.id)}}})],1)],2)}),t._v(" "),""==t.list?a("div",{staticClass:"none"},[t._v("--暂无数据--")]):t._e()],2)},staticRenderFns:[]};var ye,ke=a("VU/8")(fe,ge,!1,function(t){a("DoOW")},"data-v-31e56531",null).exports,Ce={data:function(){return{currentDate:new Date,token:"",list:{},title:"账面收支明细",is_goBack:!0,start_date:"",end_date:"",date_name:"当月",changeDateType:"m",screen_start:"",screen_end:"",timeType:""}},components:(ye={mHeader:y},j()(ye,Y.a.name,Y.a),j()(ye,q.a.name,q.a),j()(ye,V.a.name,V.a),j()(ye,H.a.name,H.a),j()(ye,W.a.Component.name,W.a.Component),j()(ye,dt.a.name,dt.a),ye),methods:{constructor:function(){this.token=localStorage.getItem("token"),this.changeToMonth()},getWaitIncome:function(){var t=this;this.axios.get(d.WaitRP+this.token,{params:{begin_date:this.start_date,end_date:this.end_date,type:2}}).then(function(e){t.list=e.data.data}).catch(function(t){console.log(t)})},del:function(t){var e=this;W.a.confirm({title:"删除",message:"确认删除该条数据嘛？"}).then(function(){e.axios.post(d.Del.Url1+t+d.Del.Url2+localStorage.getItem("token")).then(function(t){t.data.status&&(Object(R.a)("删除成功"),e.getWaitIncome())})}).catch(function(){})},changeDate:function(t){this.changeDateType=t,"m"==t?this.changeToMonth():"q"==t?this.changeToQuarter():"y"==t?this.changeToYear():this.getWaitIncome()},changeToMonth:function(){var t=this.currentDate.getFullYear(),e=(this.currentDate.getMonth()+1).toString().padStart(2,0),a=new Date(t,e,0).getDate().toString().padStart(2,0);this.screen_start=this.start_date=t+"-"+e+"-01",this.screen_end=this.end_date=t+"-"+e+"-"+a,this.date_name="当月",this.getWaitIncome()},changeToYear:function(){var t=this.currentDate.getFullYear();this.screen_start=this.start_date=t+"-01-01",this.screen_end=this.end_date=t+"-12-31",this.date_name="今年",this.getWaitIncome()},changeToQuarter:function(){var t=this.currentDate.getFullYear(),e=this.currentDate.getMonth()+1,a=this.getQuarterStartMonth(e);if(0!=a){var i=new Date(t,a+2,0);this.screen_start=this.start_date=t+"-"+a.toString().padStart(2,0)+"-01",this.screen_end=this.end_date=t+"-"+(a+2).toString().padStart(2,0)+"-"+i.getDate(),this.date_name="本季度",this.getWaitIncome()}},goToRouter:function(t,e){localStorage.setItem("detail_type",t),localStorage.setItem("detail_id",e),this.$router.push("/account-detail")},getQuarterStartMonth:function(t){var e=0;return t<4&&(e=1),3<t&&t<7&&(e=4),6<t&&t<10&&(e=7),t>9&&(e=10),e},getDateTime:function(t){var e=this.currentDate.getFullYear(),a=this.currentDate.getMonth()+1;a=a<10?"0"+a:a;var i=this.currentDate.getDate();i=i<10?"0"+i:i,1==this.timeType?this.screen_start=e+"-"+a+"-"+i:2==this.timeType&&(this.screen_end=e+"-"+a+"-"+i),this.show=!1}},created:function(){this.constructor()}},be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wait-out"},[a("div",{staticClass:"wait-out-top"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}}),t._v(" "),a("div",{staticClass:"m-wait-out-main-top wait-out_top_select"},[a("a",{class:{selected:"m"==t.changeDateType},on:{click:function(e){return t.changeDate("m")}}},[t._v("当月待付")]),t._v(" "),a("a",{class:{selected:"q"==t.changeDateType},on:{click:function(e){return t.changeDate("q")}}},[t._v("季度待付")]),t._v(" "),a("a",{class:{selected:"y"==t.changeDateType},on:{click:function(e){return t.changeDate("y")}}},[t._v("年度待付")])]),t._v(" "),a("div",{staticClass:"transition"},[a("div",{staticClass:"transition-left"},[t._v("\n        "+t._s(t.date_name)+":\n        "),a("br"),t._v(" "),a("span",{staticClass:"green"},[t._v(t._s(t.start_date))]),t._v(" -\n        "),a("span",{staticClass:"green"},[t._v(t._s(t.end_date))])]),t._v(" "),a("div",{staticClass:"transition-right"},[t._v("\n        总待付金额:\n        "),a("br"),t._v(" "),a("span",{staticClass:"orange bigfont"},[t._v(t._s(parseFloat(t.list.total).toFixed(2)))])])])],1),t._v(" "),t._l(t.list.list,function(e,i){return a("van-swipe-cell",{key:i},[a("div",{staticClass:"wait-out-list",on:{click:function(a){return t.goToRouter(e.type,e.id)}}},[a("div",{staticClass:"wait-out-list-left"},[(t.red=2==e.type)?a("span"):t._e(),t._v(" "),a("span",{staticClass:"wait-out-list-left-iconfont iconfont",class:{red:t.red}},[t._v("")]),t._v(" "),a("div",{staticClass:"wait-out-list-left-title"},[a("div",{staticClass:"wait-out-list-left-info"},[a("span",[t._v(t._s(e.company_name))])]),t._v(" "),e.total_money-e.paid_money?a("div",{staticClass:"wait-out-list-left-info wait-budget",class:{red:t.red,green:!t.red}},[a("span",[t._v("待付款:")]),t._v(" "),a("span",[t._v(t._s(e.total_money-e.paid_money))])]):t._e(),t._v(" "),a("div",{staticClass:"wait-out-list-left-info"},[t._v(t._s(e.date))])])]),t._v(" "),a("div",{staticClass:"wait-out-list-right-money"},[a("span",[t._v(t._s(e.total_money))]),t._v(" "),a("span",{staticClass:"iconfont write-icon"},[t._v("")])])]),t._v(" "),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(a){return t.del(e.id)}}})],1)],2)}),t._v(" "),""==t.list?a("div",{staticClass:"none"},[t._v("--暂无数据--")]):t._e()],2)},staticRenderFns:[]};var we=a("VU/8")(Ce,be,!1,function(t){a("/X1/")},"data-v-d74f556e",null).exports,xe={data:function(){return{title:"账簿账户管理",is_goBack:!0,id:""}},components:j()({mHeader:y},R.a.name,R.a),methods:{goToRouter:function(t){this.$router.push("/"+t)}}},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"set-acc"},[a("m-header",{attrs:{title:t.title,is_goBack:t.is_goBack}}),t._v(" "),a("div",{staticClass:"set-acc-center"},[a("div",{staticClass:"center-list",on:{click:function(e){return t.goToRouter("account-mgt")}}},[a("span",{staticClass:"iconfont"}),t._v("\n      账簿管理\n      "),a("span",{staticClass:"center-bottom-right-icon iconfont"},[t._v("")])]),t._v(" "),a("div",{staticClass:"center-list",on:{click:function(e){return t.goToRouter("assets")}}},[t._v("\n      账户管理\n      "),a("span",{staticClass:"center-bottom-right-icon iconfont"},[t._v("")])])])],1)},staticRenderFns:[]};var Te=a("VU/8")(xe,De,!1,function(t){a("/gH8")},"data-v-e2caad7e",null).exports;i.a.use(m.a);var Ie=new m.a({routes:[{path:"/",name:"index",component:x,children:[{path:"/reg",name:"reg",component:kt},{path:"/login",name:"login",component:wt}]},{path:"/account",name:"account",component:I,redirect:"/budget",children:[{path:"/budget",name:"budget",component:st},{path:"/out",name:"out",component:rt}]},{path:"/me",name:"me",component:U},{path:"/statistics",name:"statistics",component:L,redirect:"/menu",children:[{path:"/pie-chart",name:"pie-chart",component:ft},{path:"/menu",name:"menu",component:et}]},{path:"/set-info",component:Tt},{path:"/edit-pwd",component:jt},{path:"/edit-tel",component:Ut},{path:"/edit-info",component:$t},{path:"/feedback",component:Wt},{path:"/write",name:"/write",component:mt},{path:"/invite",name:"/invite",component:Zt},{path:"/account-mgt",name:"account-mgt",component:zt},{path:"/account-detail",name:"account-detail",component:he},{path:"/detailed",name:"detailed",component:ve},{path:"/wait-income",name:"wait-income",component:ke},{path:"/wait-out",name:"wait-out",component:we},{path:"/setAcc",name:"setAcc",component:Te},{path:"/assets",name:"assets",component:Z},{path:"/type-mgt",name:"type-mgt",component:Vt,redirect:"/type_income",children:[{path:"/type_income",name:"type_income",component:ee},{path:"/type_out",name:"type_out",component:ne}]},{path:"/index",name:"index2",component:x}]}),Se=a("muQq"),je=a.n(Se),Re=a("mtWM"),Oe=a.n(Re),Be=m.a.prototype.push;m.a.prototype.push=function(t){return Be.call(this,t).catch(function(t){return t})},Oe.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",i.a.config.productionTip=!1,i.a.prototype.axios=Oe.a,new i.a({el:"#app",router:Ie,components:{App:_},template:"<App/>",iconfont:je.a})},NzZ4:function(t,e){},O322:function(t,e){},O8L9:function(t,e){},"QF6/":function(t,e){},QSKm:function(t,e){},RkTm:function(t,e){},So0g:function(t,e){},"Uje+":function(t,e){},"XZl/":function(t,e){},bsPT:function(t,e){},"ci/3":function(t,e){},cuLW:function(t,e){},f72b:function(t,e){},gkYw:function(t,e){},iwp8:function(t,e){},j21u:function(t,e){},jmoX:function(t,e){},lEOh:function(t,e){},masr:function(t,e){},muQq:function(t,e){},oYF5:function(t,e){},pEFy:function(t,e){},pQoo:function(t,e){},pwkd:function(t,e){},qZjV:function(t,e){},qniC:function(t,e){},tOFE:function(t,e){},u8RG:function(t,e){},"ue+b":function(t,e){},uov5:function(t,e){},uxCF:function(t,e){},x4Rt:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d2504d7686abad62cd18.js.map